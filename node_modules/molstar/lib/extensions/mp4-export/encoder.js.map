{"version":3,"file":"encoder.js","sourceRoot":"","sources":["../../../src/extensions/mp4-export/encoder.ts"],"names":[],"mappings":"AAAA;;;;GAIG;;AAEH,OAAO,KAAK,GAAG,MAAM,kBAAkB,CAAC;AAGxC,OAAO,EAAE,oBAAoB,EAAE,MAAM,wCAAwC,CAAC;AAkB9E,MAAM,UAAgB,kBAAkB,CAAiC,MAAqB,EAAE,GAAmB,EAAE,MAA2B;;;;;;wBAC5I,qBAAM,GAAG,CAAC,MAAM,CAAC,EAAE,OAAO,EAAE,iBAAiB,EAAE,eAAe,EAAE,IAAI,EAAE,CAAC,EAAA;;oBAAvE,SAAuE,CAAC;oBAExE,gBAAgB,CAAC,MAAM,CAAC,CAAC;oBACnB,UAAU,GAAG,oBAAoB,CAAC,WAAW,CAAC,MAAM,EAAE,MAAM,CAAC,SAAS,CAAC,CAAC;oBAC9E,IAAI,UAAU,KAAK,KAAK,CAAC,EAAE;wBACvB,MAAM,IAAI,KAAK,CAAC,qDAAqD,CAAC,CAAC;qBAC1E;oBAEe,qBAAM,GAAG,CAAC,oBAAoB,EAAE,EAAA;;oBAA1C,OAAO,GAAG,SAAgC;oBAExC,KAAK,GAAa,MAAM,MAAnB,EAAE,MAAM,GAAK,MAAM,OAAX,CAAY;oBAC7B,EAAE,GAAG,MAAM,CAAC,QAAQ,CAAC,KAAK,EAAE,EAAE,GAAG,MAAM,CAAC,QAAQ,CAAC,MAAM,CAAC;oBAE5D,qCAAqC;oBACrC,IAAI,EAAE,GAAG,CAAC,KAAK,CAAC;wBAAE,EAAE,IAAI,CAAC,CAAC;oBAC1B,IAAI,EAAE,GAAG,CAAC,KAAK,CAAC;wBAAE,EAAE,IAAI,CAAC,CAAC;oBAEpB,kBAAkB,yBAAkB,MAAM,CAAC,QAAQ,KAAE,KAAK,EAAE,EAAE,EAAE,MAAM,EAAE,EAAE,GAAE,CAAC;oBAEnF,OAAO,CAAC,KAAK,GAAG,EAAE,CAAC;oBACnB,OAAO,CAAC,MAAM,GAAG,EAAE,CAAC;oBACpB,IAAI,MAAM,CAAC,qBAAqB;wBAAE,OAAO,CAAC,qBAAqB,GAAG,MAAM,CAAC,qBAAqB,CAAC;oBAC/F,IAAI,MAAM,CAAC,GAAG;wBAAE,OAAO,CAAC,SAAS,GAAG,MAAM,CAAC,GAAG,CAAC;oBAC/C,OAAO,CAAC,UAAU,EAAE,CAAC;oBAEf,IAAI,GAAG,MAAM,CAAC,aAAa,CAAC;oBAC5B,WAAW,GAAG,MAAA,MAAM,CAAC,QAAQ,0CAAE,KAAK,CAAC;oBACrC,YAAY,GAAG,IAAI,CAAC,WAAW,CAAC;oBAClC,gBAAgB,GAAG,IAAI,EAAE,SAAS,GAAG,KAAK,CAAC;;;;oBAG3C,IAAI,CAAC,IAAI,EAAE,CAAC;oBACZ,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC;oBAElB,IAAI,MAAM,CAAC,gBAAgB,KAAK,KAAK,CAAC,EAAE;wBACpC,MAAA,MAAM,CAAC,QAAQ,0CAAE,QAAQ,CAAC,EAAE,QAAQ,EAAE,EAAE,eAAe,EAAE,MAAM,CAAC,gBAAgB,EAAE,EAAE,qBAAqB,EAAE,KAAK,EAAE,EAAE,IAAI,CAAC,CAAC;qBAC7H;oBAEK,GAAG,GAAG,OAAO,CAAC,SAAS,CAAC;oBACxB,CAAC,GAAG,IAAI,CAAC,IAAI,CAAC,UAAU,GAAG,IAAI,GAAG,GAAG,CAAC,CAAC;oBACvC,EAAE,GAAG,UAAU,GAAG,CAAC,CAAC;oBAE1B,qBAAM,GAAG,CAAC,MAAM,CAAC,EAAE,OAAO,EAAE,cAAc,EAAE,eAAe,EAAE,KAAK,EAAE,OAAO,EAAE,CAAC,EAAE,GAAG,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,EAAA;;oBAA7F,SAA6F,CAAC;oBAE9F,qBAAM,MAAM,CAAC,QAAQ,CAAC,SAAS,CAAC,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,UAAU,EAAE,MAAM,CAAC,SAAS,CAAC,MAAM,CAAC,EAAA;;oBAA1F,SAA0F,CAAC;oBAC3F,gBAAgB,GAAG,KAAK,CAAC;oBAChB,CAAC,GAAG,CAAC;;;yBAAE,CAAA,CAAC,IAAI,CAAC,CAAA;oBAClB,qBAAM,IAAI,CAAC,IAAI,CAAC,CAAC,GAAG,EAAE,EAAE,EAAE,aAAa,EAAE,IAAI,EAAE,UAAU,EAAE,IAAI,EAAE,CAAC,EAAA;;oBAAlE,SAAkE,CAAC;oBAE7D,KAAK,GAAG,MAAM,CAAC,IAAI,CAAC,YAAY,CAAC,KAAK,EAAE,MAAM,EAAE,kBAAkB,CAAC,CAAC;oBAC1E,OAAO,CAAC,YAAY,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;yBAE7B,GAAG,CAAC,YAAY,EAAhB,wBAAgB;oBAChB,qBAAM,GAAG,CAAC,MAAM,CAAC,EAAE,OAAO,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,EAAA;;oBAApC,SAAoC,CAAC;;;oBAPrB,CAAC,EAAE,CAAA;;yBAU3B,qBAAM,GAAG,CAAC,MAAM,CAAC,EAAE,OAAO,EAAE,+BAA+B,EAAE,eAAe,EAAE,IAAI,EAAE,CAAC,EAAA;;oBAArF,SAAqF,CAAC;oBACtF,qBAAM,MAAM,CAAC,QAAQ,CAAC,SAAS,CAAC,IAAI,EAAE,EAAA;;oBAAtC,SAAsC,CAAC;oBACvC,gBAAgB,GAAG,IAAI,CAAC;oBACxB,OAAO,CAAC,QAAQ,EAAE,CAAC;oBACnB,SAAS,GAAG,IAAI,CAAC;oBACjB,sBAAO,OAAO,CAAC,EAAE,CAAC,QAAQ,CAAC,OAAO,CAAC,cAAc,CAAC,EAAC;;oBAEnD,IAAI,SAAS;wBAAE,OAAO,CAAC,MAAM,EAAE,CAAC;oBAChC,IAAI,MAAM,CAAC,gBAAgB,KAAK,KAAK,CAAC,EAAE;wBACpC,MAAA,MAAM,CAAC,QAAQ,0CAAE,QAAQ,CAAC,EAAE,QAAQ,EAAE,EAAE,eAAe,EAAE,WAAW,aAAX,WAAW,uBAAX,WAAW,CAAE,QAAQ,CAAE,eAAe,EAAE,EAAE,qBAAqB,EAAE,WAAW,aAAX,WAAW,uBAAX,WAAW,CAAE,qBAAqB,EAAE,CAAC,CAAC;qBACnK;yBACG,CAAC,gBAAgB,EAAjB,yBAAiB;oBAAE,qBAAM,MAAM,CAAC,QAAQ,CAAC,SAAS,CAAC,IAAI,EAAE,EAAA;;oBAAtC,SAAsC,CAAC;;;oBAC9D,IAAI,YAAY;wBAAE,IAAI,CAAC,KAAK,EAAE,CAAC;;;;;;CAEtC;AAED,SAAS,gBAAgB,CAAC,MAAwB;IAC9C,IAAI,MAAM,CAAC,QAAQ,CAAC,CAAC,GAAG,MAAM,CAAC,QAAQ,CAAC,KAAK,GAAG,MAAM,CAAC,KAAK,IAAI,MAAM,CAAC,QAAQ,CAAC,CAAC,GAAG,MAAM,CAAC,QAAQ,CAAC,MAAM,GAAG,MAAM,CAAC,MAAM,EAAE;QACxH,MAAM,IAAI,KAAK,CAAC,yCAAyC,CAAC,CAAC;KAC9D;AACL,CAAC"}