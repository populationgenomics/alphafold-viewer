{"ast":null,"code":"var _jsxFileName = \"/Users/daniel/Documents/Projects/AlphaFoldVisualisation/alphafold-viewer/src/App.tsx\",\n    _s = $RefreshSig$();\n\nimport { DefaultPluginUISpec } from 'molstar/lib/mol-plugin-ui/spec';\nimport { createPluginAsync } from 'molstar/lib/mol-plugin-ui/index';\nimport { PluginConfig } from 'molstar/lib/mol-plugin/config';\nimport React, { useRef, useEffect } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst MySpec = { ...DefaultPluginUISpec(),\n  config: [[PluginConfig.VolumeStreaming.Enabled, false]]\n};\n\nasync function createPlugin(parent) {\n  const plugin = await createPluginAsync(parent, MySpec);\n  const data = await plugin.builders.data.download({\n    url: '...'\n  }, {\n    state: {\n      isGhost: true\n    }\n  });\n  const trajectory = await plugin.builders.structure.parseTrajectory(data, format);\n  await this.plugin.builders.structure.hierarchy.applyPreset(trajectory, 'default');\n  return plugin;\n}\n\ncreatePlugin(document.getElementById('app')); // app is a <div> element\n\nfunction MolStarWrapper() {\n  _s();\n\n  const parent = useRef(null);\n  useEffect(() => {\n    let plugin = undefined;\n\n    async function init() {\n      plugin = createPlugin(parent.current);\n    }\n\n    init();\n    return () => {\n      var _plugin;\n\n      (_plugin = plugin) === null || _plugin === void 0 ? void 0 : _plugin.dispose();\n    };\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    ref: parent,\n    style: {\n      width: 640,\n      height: 480\n    }\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 37,\n    columnNumber: 12\n  }, this);\n}\n\n_s(MolStarWrapper, \"+WiaLUB8FoDBiniWks+k40cFymA=\");\n\n_c = MolStarWrapper;\n\nvar _c;\n\n$RefreshReg$(_c, \"MolStarWrapper\");","map":{"version":3,"sources":["/Users/daniel/Documents/Projects/AlphaFoldVisualisation/alphafold-viewer/src/App.tsx"],"names":["DefaultPluginUISpec","createPluginAsync","PluginConfig","React","useRef","useEffect","MySpec","config","VolumeStreaming","Enabled","createPlugin","parent","plugin","data","builders","download","url","state","isGhost","trajectory","structure","parseTrajectory","format","hierarchy","applyPreset","document","getElementById","MolStarWrapper","undefined","init","current","dispose","width","height"],"mappings":";;;AAAA,SAASA,mBAAT,QAAkD,gCAAlD;AACA,SAASC,iBAAT,QAAkC,iCAAlC;AACA,SAASC,YAAT,QAA6B,+BAA7B;AACA,OAAOC,KAAP,IAAeC,MAAf,EAAuBC,SAAvB,QAAuC,OAAvC;;AAEA,MAAMC,MAAoB,GAAG,EACzB,GAAGN,mBAAmB,EADG;AAEzBO,EAAAA,MAAM,EAAE,CACJ,CAACL,YAAY,CAACM,eAAb,CAA6BC,OAA9B,EAAuC,KAAvC,CADI;AAFiB,CAA7B;;AAOA,eAAeC,YAAf,CAA4BC,MAA5B,EAAiD;AAC7C,QAAMC,MAAM,GAAG,MAAMX,iBAAiB,CAACU,MAAD,EAASL,MAAT,CAAtC;AAEA,QAAMO,IAAI,GAAG,MAAMD,MAAM,CAACE,QAAP,CAAgBD,IAAhB,CAAqBE,QAArB,CAA8B;AAAEC,IAAAA,GAAG,EAAE;AAAP,GAA9B,EAA8C;AAAEC,IAAAA,KAAK,EAAE;AAAEC,MAAAA,OAAO,EAAE;AAAX;AAAT,GAA9C,CAAnB;AACA,QAAMC,UAAU,GAAG,MAAMP,MAAM,CAACE,QAAP,CAAgBM,SAAhB,CAA0BC,eAA1B,CAA0CR,IAA1C,EAAgDS,MAAhD,CAAzB;AACA,QAAM,KAAKV,MAAL,CAAYE,QAAZ,CAAqBM,SAArB,CAA+BG,SAA/B,CAAyCC,WAAzC,CAAqDL,UAArD,EAAiE,SAAjE,CAAN;AAEA,SAAOP,MAAP;AACH;;AAEDF,YAAY,CAACe,QAAQ,CAACC,cAAT,CAAwB,KAAxB,CAAD,CAAZ,C,CAA+C;;AAE/C,SAASC,cAAT,GAA0B;AAAA;;AACtB,QAAMhB,MAAM,GAAGP,MAAM,CAAiB,IAAjB,CAArB;AAEAC,EAAAA,SAAS,CAAC,MAAM;AACZ,QAAIO,MAAiC,GAAGgB,SAAxC;;AACA,mBAAeC,IAAf,GAAsB;AAClBjB,MAAAA,MAAM,GAAGF,YAAY,CAACC,MAAM,CAACmB,OAAR,CAArB;AACH;;AACDD,IAAAA,IAAI;AACJ,WAAO,MAAM;AAAA;;AAAE,iBAAAjB,MAAM,UAAN,0CAAQmB,OAAR;AAAoB,KAAnC;AACH,GAPQ,EAON,EAPM,CAAT;AASA,sBAAO;AAAK,IAAA,GAAG,EAAEpB,MAAV;AAAkB,IAAA,KAAK,EAAE;AAAEqB,MAAAA,KAAK,EAAE,GAAT;AAAcC,MAAAA,MAAM,EAAE;AAAtB;AAAzB;AAAA;AAAA;AAAA;AAAA,UAAP;AACH;;GAbQN,c;;KAAAA,c","sourcesContent":["import { DefaultPluginUISpec, PluginUISpec } from 'molstar/lib/mol-plugin-ui/spec';\nimport { createPluginAsync } from 'molstar/lib/mol-plugin-ui/index';\nimport { PluginConfig } from 'molstar/lib/mol-plugin/config';\nimport React, {useRef, useEffect} from 'react';\n\nconst MySpec: PluginUISpec = {\n    ...DefaultPluginUISpec(),\n    config: [\n        [PluginConfig.VolumeStreaming.Enabled, false]\n    ]\n}\n\nasync function createPlugin(parent: HTMLElement) {\n    const plugin = await createPluginAsync(parent, MySpec);\n\n    const data = await plugin.builders.data.download({ url: '...' }, { state: { isGhost: true } });\n    const trajectory = await plugin.builders.structure.parseTrajectory(data, format);\n    await this.plugin.builders.structure.hierarchy.applyPreset(trajectory, 'default');\n\n    return plugin;\n}\n\ncreatePlugin(document.getElementById('app')!); // app is a <div> element\n\nfunction MolStarWrapper() {\n    const parent = useRef<HTMLDivElement>(null);\n\n    useEffect(() => {\n        let plugin: PluginContext | undefined = undefined;\n        async function init() {\n            plugin = createPlugin(parent.current);\n        }\n        init();\n        return () => { plugin?.dispose(); };\n    }, []);\n\n    return <div ref={parent} style={{ width: 640, height: 480 }} />;\n}"]},"metadata":{},"sourceType":"module"}