{"ast":null,"code":"var _jsxFileName = \"/Users/daniel/Documents/Projects/AlphaFoldVisualisation/alphafold-viewer/src/viewer.tsx\",\n    _s2 = $RefreshSig$();\n\nimport React, { useEffect } from 'react';\nimport { createPlugin } from 'molstar/lib/mol-plugin-ui/index';\nimport 'molstar/build/viewer/molstar.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Viewer() {\n  _s2();\n\n  const parent = /*#__PURE__*/React.createRef();\n  let width = 480;\n  let height = 600;\n  useEffect(() => {\n    var _s = $RefreshSig$();\n\n    // let plugin: PluginContext = undefined;\n    let plugin = createPlugin(parent.current);\n\n    async function init() {\n      _s();\n\n      // plugin = createPlugin(parent.current!);\n      const data = await plugin.builders.data.download({\n        url: 'https://alphafold.ebi.ac.uk/files/AF-P38398-F1-model_v1.cif'\n      }, {\n        state: {\n          isGhost: true\n        }\n      });\n      const trajectory = await plugin.builders.structure.parseTrajectory(data, \"mmcif\");\n      await plugin.builders.structure.hierarchy.applyPreset(trajectory, 'default');\n      useEffect(() => plugin.handleResize(), [width, height]);\n    }\n\n    _s(init, \"OD7bBpZva5O2jO+Puf00hKivP7c=\");\n\n    init();\n    return () => {\n      plugin === null || plugin === void 0 ? void 0 : plugin.dispose();\n    };\n  }, [parent]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    ref: parent,\n    style: {\n      width: width,\n      height: height\n    }\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 28,\n    columnNumber: 12\n  }, this);\n}\n\n_s2(Viewer, \"OD7bBpZva5O2jO+Puf00hKivP7c=\");\n\n_c = Viewer;\nexport default Viewer;\n\nvar _c;\n\n$RefreshReg$(_c, \"Viewer\");","map":{"version":3,"sources":["/Users/daniel/Documents/Projects/AlphaFoldVisualisation/alphafold-viewer/src/viewer.tsx"],"names":["React","useEffect","createPlugin","Viewer","parent","createRef","width","height","plugin","current","init","data","builders","download","url","state","isGhost","trajectory","structure","parseTrajectory","hierarchy","applyPreset","handleResize","dispose"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AAEA,SAASC,YAAT,QAA6B,iCAA7B;AACA,OAAO,kCAAP;;;AAGA,SAASC,MAAT,GAAkB;AAAA;;AACd,QAAMC,MAAM,gBAAGJ,KAAK,CAACK,SAAN,EAAf;AACA,MAAIC,KAAK,GAAG,GAAZ;AACA,MAAIC,MAAM,GAAG,GAAb;AAEAN,EAAAA,SAAS,CAAC,MAAM;AAAA;;AACZ;AACA,QAAIO,MAAM,GAAGN,YAAY,CAACE,MAAM,CAACK,OAAR,CAAzB;;AACA,mBAAeC,IAAf,GAAsB;AAAA;;AAClB;AACA,YAAMC,IAAI,GAAG,MAAMH,MAAM,CAACI,QAAP,CAAgBD,IAAhB,CAAqBE,QAArB,CAA8B;AAAEC,QAAAA,GAAG,EAAE;AAAP,OAA9B,EAAsG;AAAEC,QAAAA,KAAK,EAAE;AAAEC,UAAAA,OAAO,EAAE;AAAX;AAAT,OAAtG,CAAnB;AACA,YAAMC,UAAU,GAAG,MAAMT,MAAM,CAACI,QAAP,CAAgBM,SAAhB,CAA0BC,eAA1B,CAA0CR,IAA1C,EAAgD,OAAhD,CAAzB;AACA,YAAMH,MAAM,CAACI,QAAP,CAAgBM,SAAhB,CAA0BE,SAA1B,CAAoCC,WAApC,CAAgDJ,UAAhD,EAA4D,SAA5D,CAAN;AACAhB,MAAAA,SAAS,CAAC,MAAMO,MAAM,CAACc,YAAP,EAAP,EAA8B,CAAChB,KAAD,EAAQC,MAAR,CAA9B,CAAT;AAEH;;AAVW,OAGGG,IAHH;;AAWZA,IAAAA,IAAI;AACJ,WAAO,MAAM;AAAEF,MAAAA,MAAM,SAAN,IAAAA,MAAM,WAAN,YAAAA,MAAM,CAAEe,OAAR;AAAoB,KAAnC;AACH,GAbQ,EAaN,CAACnB,MAAD,CAbM,CAAT;AAgBA,sBAAO;AAAK,IAAA,GAAG,EAAEA,MAAV;AAAkB,IAAA,KAAK,EAAE;AAAEE,MAAAA,KAAK,EAAEA,KAAT;AAAgBC,MAAAA,MAAM,EAAEA;AAAxB;AAAzB;AAAA;AAAA;AAAA;AAAA,UAAP;AACH;;IAtBQJ,M;;KAAAA,M;AAwBT,eAAeA,MAAf","sourcesContent":["import React, { useEffect } from 'react';\nimport { PluginContext } from 'molstar/lib/mol-plugin/context';\nimport { createPlugin } from 'molstar/lib/mol-plugin-ui/index'\nimport 'molstar/build/viewer/molstar.css'\nimport { relative } from 'path/posix';\n\nfunction Viewer() {    \n    const parent = React.createRef<HTMLDivElement>();\n    let width = 480\n    let height = 600\n\n    useEffect(() => {\n        // let plugin: PluginContext = undefined;\n        let plugin = createPlugin(parent.current!);\n        async function init() {\n            // plugin = createPlugin(parent.current!);\n            const data = await plugin.builders.data.download({ url: 'https://alphafold.ebi.ac.uk/files/AF-P38398-F1-model_v1.cif' }, { state: { isGhost: true } });\n            const trajectory = await plugin.builders.structure.parseTrajectory(data, \"mmcif\");\n            await plugin.builders.structure.hierarchy.applyPreset(trajectory, 'default');\n            useEffect(() => plugin.handleResize(), [width, height]);\n            \n        }\n        init();\n        return () => { plugin?.dispose(); };\n    }, [parent]);\n\n\n    return <div ref={parent} style={{ width: width, height: height}} />;\n}\n\nexport default Viewer;\n"]},"metadata":{},"sourceType":"module"}