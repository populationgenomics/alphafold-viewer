{"ast":null,"code":"/**\r\n * Copyright (c) 2017 mol* contributors, licensed under MIT, See LICENSE file for more info.\r\n *\r\n * @author David Sehnal <david.sehnal@gmail.com>\r\n */\nvar now = function () {\n  if (typeof window !== 'undefined' && window.performance) {\n    var perf_1 = window.performance;\n    return function () {\n      return perf_1.now();\n    };\n  } else if (typeof process !== 'undefined' && process.hrtime !== 'undefined' && typeof process.hrtime === 'function') {\n    return function () {\n      var t = process.hrtime();\n      return t[0] * 1000 + t[1] / 1000000;\n    };\n  } else if (Date.now) {\n    return function () {\n      return Date.now();\n    };\n  } else {\n    return function () {\n      return +new Date();\n    };\n  }\n}();\n\nfunction formatTimespan(t, includeMsZeroes) {\n  if (includeMsZeroes === void 0) {\n    includeMsZeroes = true;\n  }\n\n  if (isNaN(t)) return 'n/a';\n  var h = Math.floor(t / (60 * 60 * 1000)),\n      m = Math.floor(t / (60 * 1000) % 60),\n      s = Math.floor(t / 1000 % 60);\n  var ms = Math.floor(t % 1000).toString();\n\n  while (ms.length < 3) ms = '0' + ms;\n\n  while (!includeMsZeroes && ms.length > 1 && ms[ms.length - 1] === '0') ms = ms.substr(0, ms.length - 1);\n\n  if (h > 0) return h + \"h\" + m + \"m\" + s + \".\" + ms + \"s\";\n  if (m > 0) return m + \"m\" + s + \".\" + ms + \"s\";\n  if (s > 0) return s + \".\" + ms + \"s\";\n  return t.toFixed(0) + \"ms\";\n}\n\nexport { now, formatTimespan };","map":{"version":3,"sources":["../../src/mol-util/now.ts"],"names":[],"mappings":"AAAA;;;;AAIG;AAKH,IAAM,GAAG,GAAyB,YAAA;AAC9B,MAAI,OAAO,MAAP,KAAkB,WAAlB,IAAiC,MAAM,CAAC,WAA5C,EAAyD;AACrD,QAAM,MAAI,GAAG,MAAM,CAAC,WAApB;AACA,WAAO,YAAA;AAAM,aAAA,MAAI,CAAJ,GAAA,EAAA;AAAU,KAAvB;AACH,GAHD,MAGO,IAAI,OAAO,OAAP,KAAmB,WAAnB,IAAkC,OAAO,CAAC,MAAR,KAAmB,WAArD,IAAoE,OAAO,OAAO,CAAC,MAAf,KAA0B,UAAlG,EAA8G;AACjH,WAAO,YAAA;AACH,UAAM,CAAC,GAAG,OAAO,CAAC,MAAR,EAAV;AACA,aAAO,CAAC,CAAC,CAAD,CAAD,GAAO,IAAP,GAAc,CAAC,CAAC,CAAD,CAAD,GAAO,OAA5B;AACH,KAHD;AAIH,GALM,MAKA,IAAI,IAAI,CAAC,GAAT,EAAc;AACjB,WAAO,YAAA;AAAM,aAAA,IAAI,CAAJ,GAAA,EAAA;AAAU,KAAvB;AACH,GAFM,MAEA;AACH,WAAO,YAAA;AAAM,aAAA,CAAC,IAAD,IAAC,EAAD;AAAW,KAAxB;AACH;AACJ,CAdiC,EAAlC;;AAqBA,SAAS,cAAT,CAAwB,CAAxB,EAAmC,eAAnC,EAAyD;AAAtB,MAAA,eAAA,KAAA,KAAA,CAAA,EAAA;AAAA,IAAA,eAAA,GAAA,IAAA;AAAsB;;AACrD,MAAI,KAAK,CAAC,CAAD,CAAT,EAAc,OAAO,KAAP;AAEd,MAAM,CAAC,GAAG,IAAI,CAAC,KAAL,CAAW,CAAC,IAAI,KAAK,EAAL,GAAU,IAAd,CAAZ,CAAV;AAAA,MACI,CAAC,GAAG,IAAI,CAAC,KAAL,CAAW,CAAC,IAAI,KAAK,IAAT,CAAD,GAAkB,EAA7B,CADR;AAAA,MAEI,CAAC,GAAG,IAAI,CAAC,KAAL,CAAW,CAAC,GAAG,IAAJ,GAAW,EAAtB,CAFR;AAGA,MAAI,EAAE,GAAG,IAAI,CAAC,KAAL,CAAW,CAAC,GAAG,IAAf,EAAqB,QAArB,EAAT;;AAEA,SAAO,EAAE,CAAC,MAAH,GAAY,CAAnB,EAAsB,EAAE,GAAG,MAAM,EAAX;;AACtB,SAAO,CAAC,eAAD,IAAoB,EAAE,CAAC,MAAH,GAAY,CAAhC,IAAqC,EAAE,CAAC,EAAE,CAAC,MAAH,GAAY,CAAb,CAAF,KAAsB,GAAlE,EAAuE,EAAE,GAAG,EAAE,CAAC,MAAH,CAAU,CAAV,EAAa,EAAE,CAAC,MAAH,GAAY,CAAzB,CAAL;;AAEvE,MAAI,CAAC,GAAG,CAAR,EAAW,OAAU,CAAC,GAAA,GAAD,GAAK,CAAL,GAAM,GAAN,GAAU,CAAV,GAAW,GAAX,GAAe,EAAf,GAAiB,GAA3B;AACX,MAAI,CAAC,GAAG,CAAR,EAAW,OAAU,CAAC,GAAA,GAAD,GAAK,CAAL,GAAM,GAAN,GAAU,EAAV,GAAY,GAAtB;AACX,MAAI,CAAC,GAAG,CAAR,EAAW,OAAU,CAAC,GAAA,GAAD,GAAK,EAAL,GAAO,GAAjB;AACX,SAAU,CAAC,CAAC,OAAF,CAAU,CAAV,IAAY,IAAtB;AACH;;AAED,SAAS,GAAT,EAAc,cAAd","sourceRoot":"","sourcesContent":["/**\r\n * Copyright (c) 2017 mol* contributors, licensed under MIT, See LICENSE file for more info.\r\n *\r\n * @author David Sehnal <david.sehnal@gmail.com>\r\n */\r\nvar now = (function () {\r\n    if (typeof window !== 'undefined' && window.performance) {\r\n        var perf_1 = window.performance;\r\n        return function () { return perf_1.now(); };\r\n    }\r\n    else if (typeof process !== 'undefined' && process.hrtime !== 'undefined' && typeof process.hrtime === 'function') {\r\n        return function () {\r\n            var t = process.hrtime();\r\n            return t[0] * 1000 + t[1] / 1000000;\r\n        };\r\n    }\r\n    else if (Date.now) {\r\n        return function () { return Date.now(); };\r\n    }\r\n    else {\r\n        return function () { return +new Date(); };\r\n    }\r\n}());\r\nfunction formatTimespan(t, includeMsZeroes) {\r\n    if (includeMsZeroes === void 0) { includeMsZeroes = true; }\r\n    if (isNaN(t))\r\n        return 'n/a';\r\n    var h = Math.floor(t / (60 * 60 * 1000)), m = Math.floor(t / (60 * 1000) % 60), s = Math.floor(t / 1000 % 60);\r\n    var ms = Math.floor(t % 1000).toString();\r\n    while (ms.length < 3)\r\n        ms = '0' + ms;\r\n    while (!includeMsZeroes && ms.length > 1 && ms[ms.length - 1] === '0')\r\n        ms = ms.substr(0, ms.length - 1);\r\n    if (h > 0)\r\n        return h + \"h\" + m + \"m\" + s + \".\" + ms + \"s\";\r\n    if (m > 0)\r\n        return m + \"m\" + s + \".\" + ms + \"s\";\r\n    if (s > 0)\r\n        return s + \".\" + ms + \"s\";\r\n    return t.toFixed(0) + \"ms\";\r\n}\r\nexport { now, formatTimespan };\r\n//# sourceMappingURL=now.js.map"]},"metadata":{},"sourceType":"module"}