{"ast":null,"code":"/**\r\n * Copyright (c) 2018-2020 mol* contributors, licensed under MIT, See LICENSE file for more info.\r\n *\r\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\r\n */\nimport { Vec3 } from '../../mol-math/linear-algebra';\nimport { PrimitiveBuilder } from './primitive';\nimport { polygon } from './polygon';\nimport { createCage } from './cage';\nvar a = Vec3(),\n    b = Vec3(),\n    c = Vec3(),\n    d = Vec3();\nvar points = polygon(4, true);\n/**\r\n * Create a box\r\n */\n\nfunction createBox(perforated) {\n  var triangleCount = 12;\n  var vertexCount = perforated ? 12 * 3 : 6 * 4;\n  var builder = PrimitiveBuilder(triangleCount, vertexCount); // create sides\n\n  for (var i = 0; i < 4; ++i) {\n    var ni = (i + 1) % 4;\n    Vec3.set(a, points[i * 3], points[i * 3 + 1], -0.5);\n    Vec3.set(b, points[ni * 3], points[ni * 3 + 1], -0.5);\n    Vec3.set(c, points[ni * 3], points[ni * 3 + 1], 0.5);\n    Vec3.set(d, points[i * 3], points[i * 3 + 1], 0.5);\n\n    if (perforated) {\n      builder.add(a, b, c);\n    } else {\n      builder.addQuad(a, b, c, d);\n    }\n  } // create bases\n\n\n  Vec3.set(a, points[0], points[1], -0.5);\n  Vec3.set(b, points[3], points[4], -0.5);\n  Vec3.set(c, points[6], points[7], -0.5);\n  Vec3.set(d, points[9], points[10], -0.5);\n\n  if (perforated) {\n    builder.add(c, b, a);\n  } else {\n    builder.addQuad(d, c, b, a);\n  }\n\n  Vec3.set(a, points[0], points[1], 0.5);\n  Vec3.set(b, points[3], points[4], 0.5);\n  Vec3.set(c, points[6], points[7], 0.5);\n  Vec3.set(d, points[9], points[10], 0.5);\n\n  if (perforated) {\n    builder.add(a, b, c);\n  } else {\n    builder.addQuad(a, b, c, d);\n  }\n\n  return builder.getPrimitive();\n}\n\nvar box;\nexport function Box() {\n  if (!box) box = createBox(false);\n  return box;\n}\nvar perforatedBox;\nexport function PerforatedBox() {\n  if (!perforatedBox) perforatedBox = createBox(true);\n  return perforatedBox;\n}\nvar boxCage;\nexport function BoxCage() {\n  if (!boxCage) {\n    boxCage = createCage([0.5, 0.5, -0.5, -0.5, 0.5, -0.5, -0.5, -0.5, -0.5, 0.5, -0.5, -0.5, 0.5, 0.5, 0.5, -0.5, 0.5, 0.5, -0.5, -0.5, 0.5, 0.5, -0.5, 0.5], [0, 4, 1, 5, 2, 6, 3, 7, 0, 1, 1, 2, 2, 3, 3, 0, 4, 5, 5, 6, 6, 7, 7, 4 // top base\n    ]);\n  }\n\n  return boxCage;\n}","map":{"version":3,"sources":["../../../src/mol-geo/primitive/box.ts"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["/**\r\n * Copyright (c) 2018-2020 mol* contributors, licensed under MIT, See LICENSE file for more info.\r\n *\r\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\r\n */\r\nimport { Vec3 } from '../../mol-math/linear-algebra';\r\nimport { PrimitiveBuilder } from './primitive';\r\nimport { polygon } from './polygon';\r\nimport { createCage } from './cage';\r\nvar a = Vec3(), b = Vec3(), c = Vec3(), d = Vec3();\r\nvar points = polygon(4, true);\r\n/**\r\n * Create a box\r\n */\r\nfunction createBox(perforated) {\r\n    var triangleCount = 12;\r\n    var vertexCount = perforated ? 12 * 3 : 6 * 4;\r\n    var builder = PrimitiveBuilder(triangleCount, vertexCount);\r\n    // create sides\r\n    for (var i = 0; i < 4; ++i) {\r\n        var ni = (i + 1) % 4;\r\n        Vec3.set(a, points[i * 3], points[i * 3 + 1], -0.5);\r\n        Vec3.set(b, points[ni * 3], points[ni * 3 + 1], -0.5);\r\n        Vec3.set(c, points[ni * 3], points[ni * 3 + 1], 0.5);\r\n        Vec3.set(d, points[i * 3], points[i * 3 + 1], 0.5);\r\n        if (perforated) {\r\n            builder.add(a, b, c);\r\n        }\r\n        else {\r\n            builder.addQuad(a, b, c, d);\r\n        }\r\n    }\r\n    // create bases\r\n    Vec3.set(a, points[0], points[1], -0.5);\r\n    Vec3.set(b, points[3], points[4], -0.5);\r\n    Vec3.set(c, points[6], points[7], -0.5);\r\n    Vec3.set(d, points[9], points[10], -0.5);\r\n    if (perforated) {\r\n        builder.add(c, b, a);\r\n    }\r\n    else {\r\n        builder.addQuad(d, c, b, a);\r\n    }\r\n    Vec3.set(a, points[0], points[1], 0.5);\r\n    Vec3.set(b, points[3], points[4], 0.5);\r\n    Vec3.set(c, points[6], points[7], 0.5);\r\n    Vec3.set(d, points[9], points[10], 0.5);\r\n    if (perforated) {\r\n        builder.add(a, b, c);\r\n    }\r\n    else {\r\n        builder.addQuad(a, b, c, d);\r\n    }\r\n    return builder.getPrimitive();\r\n}\r\nvar box;\r\nexport function Box() {\r\n    if (!box)\r\n        box = createBox(false);\r\n    return box;\r\n}\r\nvar perforatedBox;\r\nexport function PerforatedBox() {\r\n    if (!perforatedBox)\r\n        perforatedBox = createBox(true);\r\n    return perforatedBox;\r\n}\r\nvar boxCage;\r\nexport function BoxCage() {\r\n    if (!boxCage) {\r\n        boxCage = createCage([\r\n            0.5, 0.5, -0.5,\r\n            -0.5, 0.5, -0.5,\r\n            -0.5, -0.5, -0.5,\r\n            0.5, -0.5, -0.5,\r\n            0.5, 0.5, 0.5,\r\n            -0.5, 0.5, 0.5,\r\n            -0.5, -0.5, 0.5,\r\n            0.5, -0.5, 0.5\r\n        ], [\r\n            0, 4, 1, 5, 2, 6, 3, 7,\r\n            0, 1, 1, 2, 2, 3, 3, 0,\r\n            4, 5, 5, 6, 6, 7, 7, 4 // top base\r\n        ]);\r\n    }\r\n    return boxCage;\r\n}\r\n//# sourceMappingURL=box.js.map"]},"metadata":{},"sourceType":"module"}