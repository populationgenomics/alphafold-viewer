{"ast":null,"code":"var _jsxFileName = \"/Users/daniel/Documents/Projects/AlphaFoldVisualisation/alphafold-viewer/src/App.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect } from 'react';\n// import { createPlugin } from 'molstar/lib/mol-plugin-ui/index'\nimport 'molstar/build/viewer/molstar.css';\nimport { DefaultPluginUISpec } from 'molstar/lib/mol-plugin-ui/spec';\nimport { createPluginAsync } from 'molstar/lib/mol-plugin-ui/index';\nimport { PluginConfig } from 'molstar/lib/mol-plugin/config';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst MySpec = { ...DefaultPluginUISpec(),\n  config: [[PluginConfig.VolumeStreaming.Enabled, false]]\n};\n\nasync function createPlugin(parent) {\n  const plugin = await createPluginAsync(parent, MySpec);\n  const data = await plugin.builders.data.download({\n    url: '...'\n  }, {\n    state: {\n      isGhost: true\n    }\n  });\n  const trajectory = await plugin.builders.structure.parseTrajectory(data, \"mmcif\");\n  await plugin.builders.structure.hierarchy.applyPreset(trajectory, 'default');\n  return plugin;\n}\n\ncreatePlugin(document.getElementById('app')); // app is a <div> element\n\nfunction App() {\n  _s();\n\n  const parent = /*#__PURE__*/React.createRef();\n  useEffect(() => {\n    let plugin = undefined; // async function init() {\n    //     plugin = createPlugin(parent.current!);\n    // }\n    // init();\n\n    return () => {\n      plugin === null || plugin === void 0 ? void 0 : plugin.dispose();\n    };\n  }, [parent]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    ref: parent,\n    style: {\n      width: 640,\n      height: 480\n    }\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 42,\n    columnNumber: 12\n  }, this);\n}\n\n_s(App, \"OD7bBpZva5O2jO+Puf00hKivP7c=\");\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["/Users/daniel/Documents/Projects/AlphaFoldVisualisation/alphafold-viewer/src/App.tsx"],"names":["React","useEffect","DefaultPluginUISpec","createPluginAsync","PluginConfig","MySpec","config","VolumeStreaming","Enabled","createPlugin","parent","plugin","data","builders","download","url","state","isGhost","trajectory","structure","parseTrajectory","hierarchy","applyPreset","document","getElementById","App","createRef","undefined","dispose","width","height"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AAEA;AACA,OAAO,kCAAP;AAEA,SAASC,mBAAT,QAAkD,gCAAlD;AACA,SAASC,iBAAT,QAAkC,iCAAlC;AACA,SAASC,YAAT,QAA6B,+BAA7B;;AAEA,MAAMC,MAAoB,GAAG,EACzB,GAAGH,mBAAmB,EADG;AAEzBI,EAAAA,MAAM,EAAE,CACJ,CAACF,YAAY,CAACG,eAAb,CAA6BC,OAA9B,EAAuC,KAAvC,CADI;AAFiB,CAA7B;;AAOA,eAAeC,YAAf,CAA4BC,MAA5B,EAAiD;AAC7C,QAAMC,MAAM,GAAG,MAAMR,iBAAiB,CAACO,MAAD,EAASL,MAAT,CAAtC;AAEA,QAAMO,IAAI,GAAG,MAAMD,MAAM,CAACE,QAAP,CAAgBD,IAAhB,CAAqBE,QAArB,CAA8B;AAAEC,IAAAA,GAAG,EAAE;AAAP,GAA9B,EAA8C;AAAEC,IAAAA,KAAK,EAAE;AAAEC,MAAAA,OAAO,EAAE;AAAX;AAAT,GAA9C,CAAnB;AACA,QAAMC,UAAU,GAAG,MAAMP,MAAM,CAACE,QAAP,CAAgBM,SAAhB,CAA0BC,eAA1B,CAA0CR,IAA1C,EAAgD,OAAhD,CAAzB;AACA,QAAMD,MAAM,CAACE,QAAP,CAAgBM,SAAhB,CAA0BE,SAA1B,CAAoCC,WAApC,CAAgDJ,UAAhD,EAA4D,SAA5D,CAAN;AAEA,SAAOP,MAAP;AACH;;AAEDF,YAAY,CAACc,QAAQ,CAACC,cAAT,CAAwB,KAAxB,CAAD,CAAZ,C,CAA+C;;AAE/C,SAASC,GAAT,GAAe;AAAA;;AACX,QAAMf,MAAM,gBAAGV,KAAK,CAAC0B,SAAN,EAAf;AAEAzB,EAAAA,SAAS,CAAC,MAAM;AACZ,QAAIU,MAAiC,GAAGgB,SAAxC,CADY,CAEZ;AACA;AACA;AACA;;AACA,WAAO,MAAM;AAAEhB,MAAAA,MAAM,SAAN,IAAAA,MAAM,WAAN,YAAAA,MAAM,CAAEiB,OAAR;AAAoB,KAAnC;AACH,GAPQ,EAON,CAAClB,MAAD,CAPM,CAAT;AAUA,sBAAO;AAAK,IAAA,GAAG,EAAEA,MAAV;AAAkB,IAAA,KAAK,EAAE;AAAEmB,MAAAA,KAAK,EAAE,GAAT;AAAcC,MAAAA,MAAM,EAAE;AAAtB;AAAzB;AAAA;AAAA;AAAA;AAAA,UAAP;AACH;;GAdQL,G;;KAAAA,G;AAgBT,eAAeA,GAAf","sourcesContent":["import React, { useEffect } from 'react';\nimport { PluginContext } from 'molstar/lib/mol-plugin/context';\n// import { createPlugin } from 'molstar/lib/mol-plugin-ui/index'\nimport 'molstar/build/viewer/molstar.css'\n\nimport { DefaultPluginUISpec, PluginUISpec } from 'molstar/lib/mol-plugin-ui/spec';\nimport { createPluginAsync } from 'molstar/lib/mol-plugin-ui/index';\nimport { PluginConfig } from 'molstar/lib/mol-plugin/config';\n\nconst MySpec: PluginUISpec = {\n    ...DefaultPluginUISpec(),\n    config: [\n        [PluginConfig.VolumeStreaming.Enabled, false]\n    ]\n}\n\nasync function createPlugin(parent: HTMLElement) {\n    const plugin = await createPluginAsync(parent, MySpec);\n\n    const data = await plugin.builders.data.download({ url: '...' }, { state: { isGhost: true } });\n    const trajectory = await plugin.builders.structure.parseTrajectory(data, \"mmcif\");\n    await plugin.builders.structure.hierarchy.applyPreset(trajectory, 'default');\n\n    return plugin;\n}\n\ncreatePlugin(document.getElementById('app')!); // app is a <div> element\n\nfunction App() {    \n    const parent = React.createRef<HTMLDivElement>();\n\n    useEffect(() => {\n        let plugin: PluginContext | undefined = undefined;\n        // async function init() {\n        //     plugin = createPlugin(parent.current!);\n        // }\n        // init();\n        return () => { plugin?.dispose(); };\n    }, [parent]);\n\n\n    return <div ref={parent} style={{ width: 640, height: 480 }} />;\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}