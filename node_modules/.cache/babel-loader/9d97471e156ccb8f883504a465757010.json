{"ast":null,"code":"var _jsxFileName = \"/Users/daniel/Documents/Projects/AlphaFoldVisualisation/alphafold-viewer/src/viewer.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect } from \"react\";\nimport { createPlugin } from \"molstar/lib/mol-plugin-ui/index\";\nimport \"molstar/build/viewer/molstar.css\";\nimport PropTypes from \"prop-types\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Viewer(props) {\n  _s();\n\n  // const parent = useRef<HTMLDivElement>(null);\n  const parent = /*#__PURE__*/React.createRef();\n  let plugin = undefined;\n  useEffect(() => {\n    async function init() {\n      // plugin?.dispose();\n      plugin = createPlugin(parent.current);\n\n      if (props.url) {\n        const data = await plugin.builders.data.download({\n          url: props.url\n        }, {\n          state: {\n            isGhost: true\n          }\n        });\n        const trajectory = await plugin.builders.structure.parseTrajectory(data, \"mmcif\");\n        await plugin.builders.structure.hierarchy.applyPreset(trajectory, \"default\");\n      }\n    }\n\n    init();\n  }, [props.url]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    ref: parent,\n    style: {\n      position: \"absolute\",\n      height: 800,\n      width: 1500,\n      left: props.left,\n      top: props.top\n    }\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 36,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Viewer, \"OD7bBpZva5O2jO+Puf00hKivP7c=\");\n\n_c = Viewer;\nViewer.propTypes = {\n  left: PropTypes.number.isRequired,\n  top: PropTypes.number.isRequired,\n  url: PropTypes.string.isRequired\n};\nexport default Viewer;\n\nvar _c;\n\n$RefreshReg$(_c, \"Viewer\");","map":{"version":3,"sources":["/Users/daniel/Documents/Projects/AlphaFoldVisualisation/alphafold-viewer/src/viewer.tsx"],"names":["React","useEffect","createPlugin","PropTypes","Viewer","props","parent","createRef","plugin","undefined","init","current","url","data","builders","download","state","isGhost","trajectory","structure","parseTrajectory","hierarchy","applyPreset","position","height","width","left","top","propTypes","number","isRequired","string"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAyC,OAAzC;AAEA,SAASC,YAAT,QAA6B,iCAA7B;AACA,OAAO,kCAAP;AACA,OAAOC,SAAP,MAAsB,YAAtB;;;AAEA,SAASC,MAAT,CAAgBC,KAAhB,EAAmE;AAAA;;AAC/D;AACA,QAAMC,MAAM,gBAAGN,KAAK,CAACO,SAAN,EAAf;AACA,MAAIC,MAAiC,GAAGC,SAAxC;AAEAR,EAAAA,SAAS,CAAC,MAAM;AACZ,mBAAeS,IAAf,GAAsB;AAClB;AACAF,MAAAA,MAAM,GAAGN,YAAY,CAACI,MAAM,CAACK,OAAR,CAArB;;AACA,UAAIN,KAAK,CAACO,GAAV,EAAe;AACX,cAAMC,IAAI,GAAG,MAAML,MAAM,CAACM,QAAP,CAAgBD,IAAhB,CAAqBE,QAArB,CACf;AAAEH,UAAAA,GAAG,EAAEP,KAAK,CAACO;AAAb,SADe,EAEf;AAAEI,UAAAA,KAAK,EAAE;AAAEC,YAAAA,OAAO,EAAE;AAAX;AAAT,SAFe,CAAnB;AAIA,cAAMC,UAAU,GACZ,MAAMV,MAAM,CAACM,QAAP,CAAgBK,SAAhB,CAA0BC,eAA1B,CACFP,IADE,EAEF,OAFE,CADV;AAKA,cAAML,MAAM,CAACM,QAAP,CAAgBK,SAAhB,CAA0BE,SAA1B,CAAoCC,WAApC,CACFJ,UADE,EAEF,SAFE,CAAN;AAIH;AACJ;;AACDR,IAAAA,IAAI;AACP,GArBQ,EAqBN,CAACL,KAAK,CAACO,GAAP,CArBM,CAAT;AAuBA,sBACI;AACI,IAAA,GAAG,EAAEN,MADT;AAEI,IAAA,KAAK,EAAE;AACHiB,MAAAA,QAAQ,EAAE,UADP;AAEHC,MAAAA,MAAM,EAAE,GAFL;AAGHC,MAAAA,KAAK,EAAE,IAHJ;AAIHC,MAAAA,IAAI,EAAErB,KAAK,CAACqB,IAJT;AAKHC,MAAAA,GAAG,EAAEtB,KAAK,CAACsB;AALR;AAFX;AAAA;AAAA;AAAA;AAAA,UADJ;AAYH;;GAxCQvB,M;;KAAAA,M;AA0CTA,MAAM,CAACwB,SAAP,GAAmB;AACfF,EAAAA,IAAI,EAAEvB,SAAS,CAAC0B,MAAV,CAAiBC,UADR;AAEfH,EAAAA,GAAG,EAAExB,SAAS,CAAC0B,MAAV,CAAiBC,UAFP;AAGflB,EAAAA,GAAG,EAAET,SAAS,CAAC4B,MAAV,CAAiBD;AAHP,CAAnB;AAMA,eAAe1B,MAAf","sourcesContent":["import React, { useEffect, useRef } from \"react\";\nimport { PluginContext } from \"molstar/lib/mol-plugin/context\";\nimport { createPlugin } from \"molstar/lib/mol-plugin-ui/index\";\nimport \"molstar/build/viewer/molstar.css\";\nimport PropTypes from \"prop-types\";\n\nfunction Viewer(props: { left: number; top: number; url: string }) {\n    // const parent = useRef<HTMLDivElement>(null);\n    const parent = React.createRef<HTMLDivElement>();\n    let plugin: PluginContext | undefined = undefined;\n\n    useEffect(() => {\n        async function init() {\n            // plugin?.dispose();\n            plugin = createPlugin(parent.current!);\n            if (props.url) {\n                const data = await plugin.builders.data.download(\n                    { url: props.url },\n                    { state: { isGhost: true } }\n                );\n                const trajectory =\n                    await plugin.builders.structure.parseTrajectory(\n                        data,\n                        \"mmcif\"\n                    );\n                await plugin.builders.structure.hierarchy.applyPreset(\n                    trajectory,\n                    \"default\"\n                );\n            }\n        }\n        init();\n    }, [props.url]);\n\n    return (\n        <div\n            ref={parent}\n            style={{\n                position: \"absolute\",\n                height: 800,\n                width: 1500,\n                left: props.left,\n                top: props.top,\n            }}\n        />\n    );\n}\n\nViewer.propTypes = {\n    left: PropTypes.number.isRequired,\n    top: PropTypes.number.isRequired,\n    url: PropTypes.string.isRequired,\n};\n\nexport default Viewer;\n"]},"metadata":{},"sourceType":"module"}