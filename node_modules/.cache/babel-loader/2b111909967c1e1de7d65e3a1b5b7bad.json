{"ast":null,"code":"/**\r\n * Copyright (c) 2020 mol* contributors, licensed under MIT, See LICENSE file for more info.\r\n *\r\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\r\n */\nimport { __extends } from \"tslib\";\nimport { PluginBehavior } from '../../../behavior';\nimport { ModelCrossLinkRestraint } from '../../../../../mol-model-props/integrative/cross-link-restraint/format';\nimport { MmcifFormat } from '../../../../../mol-model-formats/structure/mmcif';\nimport { CrossLinkRestraintRepresentationProvider } from '../../../../../mol-model-props/integrative/cross-link-restraint/representation';\nimport { CrossLinkColorThemeProvider } from '../../../../../mol-model-props/integrative/cross-link-restraint/color';\nexport var CrossLinkRestraint = PluginBehavior.create({\n  name: 'integrative-cross-link-restraint',\n  category: 'custom-props',\n  display: {\n    name: 'Cross Link Restraint'\n  },\n  ctor:\n  /** @class */\n  function (_super) {\n    __extends(class_1, _super);\n\n    function class_1() {\n      var _this = _super !== null && _super.apply(this, arguments) || this;\n\n      _this.provider = ModelCrossLinkRestraint.Provider;\n      return _this;\n    }\n\n    class_1.prototype.register = function () {\n      this.provider.formatRegistry.add('mmCIF', crossLinkRestraintFromMmcif);\n      this.ctx.representation.structure.themes.colorThemeRegistry.add(CrossLinkColorThemeProvider);\n      this.ctx.representation.structure.registry.add(CrossLinkRestraintRepresentationProvider);\n    };\n\n    class_1.prototype.unregister = function () {\n      this.provider.formatRegistry.remove('mmCIF');\n      this.ctx.representation.structure.themes.colorThemeRegistry.remove(CrossLinkColorThemeProvider);\n      this.ctx.representation.structure.registry.remove(CrossLinkRestraintRepresentationProvider);\n    };\n\n    return class_1;\n  }(PluginBehavior.Handler)\n});\n\nfunction crossLinkRestraintFromMmcif(model) {\n  if (!MmcifFormat.is(model.sourceData)) return;\n  var ihm_cross_link_restraint = model.sourceData.data.db.ihm_cross_link_restraint;\n  if (ihm_cross_link_restraint._rowCount === 0) return;\n  return ModelCrossLinkRestraint.fromTable(ihm_cross_link_restraint, model);\n}","map":{"version":3,"sources":["../../../../../../src/mol-plugin/behavior/dynamic/custom-props/integrative/cross-link-restraint.ts"],"names":[],"mappings":"AAAA;;;;AAIG;;AAEH,SAAS,cAAT,QAA+B,mBAA/B;AACA,SAAS,uBAAT,QAAwC,wEAAxC;AAEA,SAAS,WAAT,QAA4B,kDAA5B;AACA,SAAS,wCAAT,QAAyD,gFAAzD;AACA,SAAS,2BAAT,QAA4C,uEAA5C;AAGA,OAAO,IAAM,kBAAkB,GAAG,cAAc,CAAC,MAAf,CAA2B;AACzD,EAAA,IAAI,EAAE,kCADmD;AAEzD,EAAA,QAAQ,EAAE,cAF+C;AAGzD,EAAA,OAAO,EAAE;AAAE,IAAA,IAAI,EAAE;AAAR,GAHgD;AAIzD,EAAA,IAAI;AAAA;AAAA,YAAA,MAAA,EAAA;AAAgB,IAAA,SAAA,CAAA,OAAA,EAAA,MAAA,CAAA;;AAAd,aAAA,OAAA,GAAA;AAAA,UAAA,KAAA,GAAA,MAAA,KAAA,IAAA,IAAA,MAAA,CAAA,KAAA,CAAA,IAAA,EAAA,SAAA,CAAA,IAAA,IAAA;;AACM,MAAA,KAAA,CAAA,QAAA,GAAW,uBAAuB,CAAC,QAAnC;;AAeX;;AAbG,IAAA,OAAA,CAAA,SAAA,CAAA,QAAA,GAAA,YAAA;AACI,WAAK,QAAL,CAAc,cAAd,CAA6B,GAA7B,CAAiC,OAAjC,EAA0C,2BAA1C;AAEA,WAAK,GAAL,CAAS,cAAT,CAAwB,SAAxB,CAAkC,MAAlC,CAAyC,kBAAzC,CAA4D,GAA5D,CAAgE,2BAAhE;AACA,WAAK,GAAL,CAAS,cAAT,CAAwB,SAAxB,CAAkC,QAAlC,CAA2C,GAA3C,CAA+C,wCAA/C;AACH,KALD;;AAOA,IAAA,OAAA,CAAA,SAAA,CAAA,UAAA,GAAA,YAAA;AACI,WAAK,QAAL,CAAc,cAAd,CAA6B,MAA7B,CAAoC,OAApC;AAEA,WAAK,GAAL,CAAS,cAAT,CAAwB,SAAxB,CAAkC,MAAlC,CAAyC,kBAAzC,CAA4D,MAA5D,CAAmE,2BAAnE;AACA,WAAK,GAAL,CAAS,cAAT,CAAwB,SAAxB,CAAkC,QAAlC,CAA2C,MAA3C,CAAkD,wCAAlD;AACH,KALD;;AAMJ,WAAA,OAAA;AAAC,GAhBG,CAAgB,cAAc,CAAC,OAA/B;AAJqD,CAA3B,CAA3B;;AAuBP,SAAS,2BAAT,CAAqC,KAArC,EAAiD;AAC7C,MAAI,CAAC,WAAW,CAAC,EAAZ,CAAe,KAAK,CAAC,UAArB,CAAL,EAAuC;AAC/B,MAAA,wBAAwB,GAAK,KAAK,CAAC,UAAN,CAAiB,IAAjB,CAAsB,EAAtB,CAAL,wBAAxB;AACR,MAAI,wBAAwB,CAAC,SAAzB,KAAuC,CAA3C,EAA8C;AAC9C,SAAO,uBAAuB,CAAC,SAAxB,CAAkC,wBAAlC,EAA4D,KAA5D,CAAP;AACH","sourceRoot":"","sourcesContent":["/**\r\n * Copyright (c) 2020 mol* contributors, licensed under MIT, See LICENSE file for more info.\r\n *\r\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\r\n */\r\nimport { __extends } from \"tslib\";\r\nimport { PluginBehavior } from '../../../behavior';\r\nimport { ModelCrossLinkRestraint } from '../../../../../mol-model-props/integrative/cross-link-restraint/format';\r\nimport { MmcifFormat } from '../../../../../mol-model-formats/structure/mmcif';\r\nimport { CrossLinkRestraintRepresentationProvider } from '../../../../../mol-model-props/integrative/cross-link-restraint/representation';\r\nimport { CrossLinkColorThemeProvider } from '../../../../../mol-model-props/integrative/cross-link-restraint/color';\r\nexport var CrossLinkRestraint = PluginBehavior.create({\r\n    name: 'integrative-cross-link-restraint',\r\n    category: 'custom-props',\r\n    display: { name: 'Cross Link Restraint' },\r\n    ctor: /** @class */ (function (_super) {\r\n        __extends(class_1, _super);\r\n        function class_1() {\r\n            var _this = _super !== null && _super.apply(this, arguments) || this;\r\n            _this.provider = ModelCrossLinkRestraint.Provider;\r\n            return _this;\r\n        }\r\n        class_1.prototype.register = function () {\r\n            this.provider.formatRegistry.add('mmCIF', crossLinkRestraintFromMmcif);\r\n            this.ctx.representation.structure.themes.colorThemeRegistry.add(CrossLinkColorThemeProvider);\r\n            this.ctx.representation.structure.registry.add(CrossLinkRestraintRepresentationProvider);\r\n        };\r\n        class_1.prototype.unregister = function () {\r\n            this.provider.formatRegistry.remove('mmCIF');\r\n            this.ctx.representation.structure.themes.colorThemeRegistry.remove(CrossLinkColorThemeProvider);\r\n            this.ctx.representation.structure.registry.remove(CrossLinkRestraintRepresentationProvider);\r\n        };\r\n        return class_1;\r\n    }(PluginBehavior.Handler))\r\n});\r\nfunction crossLinkRestraintFromMmcif(model) {\r\n    if (!MmcifFormat.is(model.sourceData))\r\n        return;\r\n    var ihm_cross_link_restraint = model.sourceData.data.db.ihm_cross_link_restraint;\r\n    if (ihm_cross_link_restraint._rowCount === 0)\r\n        return;\r\n    return ModelCrossLinkRestraint.fromTable(ihm_cross_link_restraint, model);\r\n}\r\n//# sourceMappingURL=cross-link-restraint.js.map"]},"metadata":{},"sourceType":"module"}