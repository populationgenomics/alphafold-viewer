{"ast":null,"code":"/**\r\n * Copyright (c) 2017 mol* contributors, licensed under MIT, See LICENSE file for more info.\r\n *\r\n * @author David Sehnal <david.sehnal@gmail.com>\r\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\r\n */\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\n/** Assign to the object if a given property in update is undefined */\n\nexport function assignIfUndefined(to, full) {\n  for (var _i = 0, _a = Object.keys(full); _i < _a.length; _i++) {\n    var k = _a[_i];\n    if (!hasOwnProperty.call(full, k)) continue;\n\n    if (typeof to[k] === 'undefined') {\n      to[k] = full[k];\n    }\n  }\n\n  return to;\n}\n/** Create new object if any property in \"update\" changes in \"source\". */\n\nexport function shallowMerge2(source, update) {\n  // Adapted from LiteMol (https://github.com/dsehnal/LiteMol)\n  var changed = false;\n\n  for (var _i = 0, _a = Object.keys(update); _i < _a.length; _i++) {\n    var k = _a[_i];\n    if (!hasOwnProperty.call(update, k)) continue;\n\n    if (update[k] !== source[k]) {\n      changed = true;\n      break;\n    }\n  }\n\n  if (!changed) return source;\n  return Object.assign({}, source, update);\n}\nexport function shallowEqual(a, b) {\n  if (!a) {\n    if (!b) return true;\n    return false;\n  }\n\n  if (!b) return false;\n  var keys = Object.keys(a);\n  if (Object.keys(b).length !== keys.length) return false;\n\n  for (var _i = 0, keys_1 = keys; _i < keys_1.length; _i++) {\n    var k = keys_1[_i];\n    if (!hasOwnProperty.call(a, k) || a[k] !== b[k]) return false;\n  }\n\n  return true;\n}\nexport function shallowMerge(source) {\n  var rest = [];\n\n  for (var _i = 1; _i < arguments.length; _i++) {\n    rest[_i - 1] = arguments[_i];\n  }\n\n  return shallowMergeArray(source, rest);\n}\nexport function shallowMergeArray(source, rest) {\n  // Adapted from LiteMol (https://github.com/dsehnal/LiteMol)\n  var ret = source;\n\n  for (var s = 0; s < rest.length; s++) {\n    if (!rest[s]) continue;\n    ret = shallowMerge2(source, rest[s]);\n\n    if (ret !== source) {\n      for (var i = s + 1; i < rest.length; i++) {\n        ret = Object.assign(ret, rest[i]);\n      }\n\n      break;\n    }\n  }\n\n  return ret;\n}\n/** Simple deep clone for number, boolean, string, null, undefined, object, array */\n\nexport function deepClone(source) {\n  if (null === source || 'object' !== typeof source) return source;\n\n  if (source instanceof Array) {\n    var copy = [];\n\n    for (var i = 0, len = source.length; i < len; i++) {\n      copy[i] = deepClone(source[i]);\n    }\n\n    return copy;\n  } // `instanceof Object` does not find `Object.create(null)`\n\n\n  if (typeof source === 'object' && !('prototype' in source)) {\n    var copy = {};\n\n    for (var k in source) {\n      if (hasOwnProperty.call(source, k)) copy[k] = deepClone(source[k]);\n    }\n\n    return copy;\n  }\n\n  throw new Error(\"Can't clone, type \\\"\" + typeof source + \"\\\" unsupported\");\n}\nexport function mapObjectMap(o, f) {\n  var ret = {};\n\n  for (var _i = 0, _a = Object.keys(o); _i < _a.length; _i++) {\n    var k = _a[_i];\n    ret[k] = f(o[k]);\n  }\n\n  return ret;\n}\nexport function objectForEach(o, f) {\n  if (!o) return;\n\n  for (var _i = 0, _a = Object.keys(o); _i < _a.length; _i++) {\n    var k = _a[_i];\n    f(o[k], k);\n  }\n}","map":{"version":3,"sources":["../../src/mol-util/object.ts"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["/**\r\n * Copyright (c) 2017 mol* contributors, licensed under MIT, See LICENSE file for more info.\r\n *\r\n * @author David Sehnal <david.sehnal@gmail.com>\r\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\r\n */\r\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\r\n/** Assign to the object if a given property in update is undefined */\r\nexport function assignIfUndefined(to, full) {\r\n    for (var _i = 0, _a = Object.keys(full); _i < _a.length; _i++) {\r\n        var k = _a[_i];\r\n        if (!hasOwnProperty.call(full, k))\r\n            continue;\r\n        if (typeof to[k] === 'undefined') {\r\n            to[k] = full[k];\r\n        }\r\n    }\r\n    return to;\r\n}\r\n/** Create new object if any property in \"update\" changes in \"source\". */\r\nexport function shallowMerge2(source, update) {\r\n    // Adapted from LiteMol (https://github.com/dsehnal/LiteMol)\r\n    var changed = false;\r\n    for (var _i = 0, _a = Object.keys(update); _i < _a.length; _i++) {\r\n        var k = _a[_i];\r\n        if (!hasOwnProperty.call(update, k))\r\n            continue;\r\n        if (update[k] !== source[k]) {\r\n            changed = true;\r\n            break;\r\n        }\r\n    }\r\n    if (!changed)\r\n        return source;\r\n    return Object.assign({}, source, update);\r\n}\r\nexport function shallowEqual(a, b) {\r\n    if (!a) {\r\n        if (!b)\r\n            return true;\r\n        return false;\r\n    }\r\n    if (!b)\r\n        return false;\r\n    var keys = Object.keys(a);\r\n    if (Object.keys(b).length !== keys.length)\r\n        return false;\r\n    for (var _i = 0, keys_1 = keys; _i < keys_1.length; _i++) {\r\n        var k = keys_1[_i];\r\n        if (!hasOwnProperty.call(a, k) || a[k] !== b[k])\r\n            return false;\r\n    }\r\n    return true;\r\n}\r\nexport function shallowMerge(source) {\r\n    var rest = [];\r\n    for (var _i = 1; _i < arguments.length; _i++) {\r\n        rest[_i - 1] = arguments[_i];\r\n    }\r\n    return shallowMergeArray(source, rest);\r\n}\r\nexport function shallowMergeArray(source, rest) {\r\n    // Adapted from LiteMol (https://github.com/dsehnal/LiteMol)\r\n    var ret = source;\r\n    for (var s = 0; s < rest.length; s++) {\r\n        if (!rest[s])\r\n            continue;\r\n        ret = shallowMerge2(source, rest[s]);\r\n        if (ret !== source) {\r\n            for (var i = s + 1; i < rest.length; i++) {\r\n                ret = Object.assign(ret, rest[i]);\r\n            }\r\n            break;\r\n        }\r\n    }\r\n    return ret;\r\n}\r\n/** Simple deep clone for number, boolean, string, null, undefined, object, array */\r\nexport function deepClone(source) {\r\n    if (null === source || 'object' !== typeof source)\r\n        return source;\r\n    if (source instanceof Array) {\r\n        var copy = [];\r\n        for (var i = 0, len = source.length; i < len; i++) {\r\n            copy[i] = deepClone(source[i]);\r\n        }\r\n        return copy;\r\n    }\r\n    // `instanceof Object` does not find `Object.create(null)`\r\n    if (typeof source === 'object' && !('prototype' in source)) {\r\n        var copy = {};\r\n        for (var k in source) {\r\n            if (hasOwnProperty.call(source, k))\r\n                copy[k] = deepClone(source[k]);\r\n        }\r\n        return copy;\r\n    }\r\n    throw new Error(\"Can't clone, type \\\"\" + typeof source + \"\\\" unsupported\");\r\n}\r\nexport function mapObjectMap(o, f) {\r\n    var ret = {};\r\n    for (var _i = 0, _a = Object.keys(o); _i < _a.length; _i++) {\r\n        var k = _a[_i];\r\n        ret[k] = f(o[k]);\r\n    }\r\n    return ret;\r\n}\r\nexport function objectForEach(o, f) {\r\n    if (!o)\r\n        return;\r\n    for (var _i = 0, _a = Object.keys(o); _i < _a.length; _i++) {\r\n        var k = _a[_i];\r\n        f(o[k], k);\r\n    }\r\n}\r\n//# sourceMappingURL=object.js.map"]},"metadata":{},"sourceType":"module"}