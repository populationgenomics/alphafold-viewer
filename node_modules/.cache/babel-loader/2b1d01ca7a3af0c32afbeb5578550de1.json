{"ast":null,"code":"var _jsxFileName = \"/Users/daniel/Documents/Projects/AlphaFoldVisualisation/alphafold-viewer/src/viewer.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect } from 'react';\nimport { createPlugin } from 'molstar/lib/mol-plugin-ui/index';\nimport 'molstar/build/viewer/molstar.css';\nimport PropTypes from 'prop-types';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Viewer(props) {\n  _s();\n\n  const parent = /*#__PURE__*/React.createRef();\n  useEffect(() => {\n    let plugin = undefined;\n\n    async function init() {\n      plugin = createPlugin(parent.current);\n      const data = await plugin.builders.data.download({\n        url: props.url\n      }, {\n        state: {\n          isGhost: true\n        }\n      });\n      const trajectory = await plugin.builders.structure.parseTrajectory(data, \"mmcif\");\n      await plugin.builders.structure.hierarchy.applyPreset(trajectory, 'default');\n    }\n\n    init();\n    return () => {\n      var _plugin;\n\n      (_plugin = plugin) === null || _plugin === void 0 ? void 0 : _plugin.dispose();\n    };\n  }, [parent]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    ref: parent,\n    style: {\n      position: 'absolute',\n      height: 800,\n      width: 1500,\n      top: props.top\n    }\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 24,\n    columnNumber: 12\n  }, this);\n}\n\n_s(Viewer, \"OD7bBpZva5O2jO+Puf00hKivP7c=\");\n\n_c = Viewer;\nViewer.propTypes = {\n  topSize: PropTypes.number.isRequired,\n  url: PropTypes.string.isRequired\n};\nexport default Viewer;\n\nvar _c;\n\n$RefreshReg$(_c, \"Viewer\");","map":{"version":3,"sources":["/Users/daniel/Documents/Projects/AlphaFoldVisualisation/alphafold-viewer/src/viewer.tsx"],"names":["React","useEffect","createPlugin","PropTypes","Viewer","props","parent","createRef","plugin","undefined","init","current","data","builders","download","url","state","isGhost","trajectory","structure","parseTrajectory","hierarchy","applyPreset","dispose","position","height","width","top","propTypes","topSize","number","isRequired","string"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AAEA,SAASC,YAAT,QAA6B,iCAA7B;AACA,OAAO,kCAAP;AACA,OAAOC,SAAP,MAAsB,YAAtB;;;AAEA,SAASC,MAAT,CAAgBC,KAAhB,EAAqD;AAAA;;AACjD,QAAMC,MAAM,gBAAGN,KAAK,CAACO,SAAN,EAAf;AAEAN,EAAAA,SAAS,CAAC,MAAM;AACZ,QAAIO,MAAiC,GAAGC,SAAxC;;AACA,mBAAeC,IAAf,GAAsB;AAClBF,MAAAA,MAAM,GAAGN,YAAY,CAACI,MAAM,CAACK,OAAR,CAArB;AACA,YAAMC,IAAI,GAAG,MAAMJ,MAAM,CAACK,QAAP,CAAgBD,IAAhB,CAAqBE,QAArB,CAA8B;AAAEC,QAAAA,GAAG,EAAEV,KAAK,CAACU;AAAb,OAA9B,EAAkD;AAAEC,QAAAA,KAAK,EAAE;AAAEC,UAAAA,OAAO,EAAE;AAAX;AAAT,OAAlD,CAAnB;AACA,YAAMC,UAAU,GAAG,MAAMV,MAAM,CAACK,QAAP,CAAgBM,SAAhB,CAA0BC,eAA1B,CAA0CR,IAA1C,EAAgD,OAAhD,CAAzB;AACA,YAAMJ,MAAM,CAACK,QAAP,CAAgBM,SAAhB,CAA0BE,SAA1B,CAAoCC,WAApC,CAAgDJ,UAAhD,EAA4D,SAA5D,CAAN;AACH;;AACDR,IAAAA,IAAI;AAEJ,WAAO,MAAM;AAAA;;AAAE,iBAAAF,MAAM,UAAN,0CAAQe,OAAR;AAAoB,KAAnC;AACH,GAXQ,EAWN,CAACjB,MAAD,CAXM,CAAT;AAcA,sBAAO;AAAK,IAAA,GAAG,EAAEA,MAAV;AAAkB,IAAA,KAAK,EAAE;AAAEkB,MAAAA,QAAQ,EAAE,UAAZ;AAAwBC,MAAAA,MAAM,EAAE,GAAhC;AAAqCC,MAAAA,KAAK,EAAE,IAA5C;AAAkDC,MAAAA,GAAG,EAAEtB,KAAK,CAACsB;AAA7D;AAAzB;AAAA;AAAA;AAAA;AAAA,UAAP;AACH;;GAlBQvB,M;;KAAAA,M;AAoBTA,MAAM,CAACwB,SAAP,GAAmB;AACfC,EAAAA,OAAO,EAAE1B,SAAS,CAAC2B,MAAV,CAAiBC,UADX;AAEfhB,EAAAA,GAAG,EAAEZ,SAAS,CAAC6B,MAAV,CAAiBD;AAFP,CAAnB;AAMA,eAAe3B,MAAf","sourcesContent":["import React, { useEffect } from 'react';\nimport { PluginContext } from 'molstar/lib/mol-plugin/context';\nimport { createPlugin } from 'molstar/lib/mol-plugin-ui/index'\nimport 'molstar/build/viewer/molstar.css'\nimport PropTypes from 'prop-types'\n\nfunction Viewer(props: { top: number , url: string}) {    \n    const parent = React.createRef<HTMLDivElement>();\n\n    useEffect(() => {\n        let plugin: PluginContext | undefined = undefined;\n        async function init() {\n            plugin = createPlugin(parent.current!);\n            const data = await plugin.builders.data.download({ url: props.url }, { state: { isGhost: true } });\n            const trajectory = await plugin.builders.structure.parseTrajectory(data, \"mmcif\");\n            await plugin.builders.structure.hierarchy.applyPreset(trajectory, 'default');\n        }\n        init();\n       \n        return () => { plugin?.dispose(); };\n    }, [parent]);\n\n\n    return <div ref={parent} style={{ position: 'absolute', height: 800, width: 1500, top: props.top}} />;\n}\n\nViewer.propTypes = {\n    topSize: PropTypes.number.isRequired,\n    url: PropTypes.string.isRequired\n}\n\n\nexport default Viewer;\n"]},"metadata":{},"sourceType":"module"}