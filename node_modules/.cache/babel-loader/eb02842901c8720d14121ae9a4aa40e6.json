{"ast":null,"code":"/**\r\n * Copyright (c) 2017-2020 mol* contributors, licensed under MIT, See LICENSE file for more info.\r\n *\r\n * @author David Sehnal <david.sehnal@gmail.com>\r\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\r\n */\nimport { BitFlags } from './bit-flags';\nimport { StringBuilder } from './string-builder';\nimport { UUID } from './uuid';\nimport { Mask } from './mask';\nexport * from './value-cell';\nexport { BitFlags, StringBuilder, UUID, Mask };\nexport var noop = function () {};\nexport function round(n, d) {\n  var f = Math.pow(10, d);\n  return Math.round(f * n) / f;\n}\nexport function arrayEqual(arr1, arr2) {\n  var length = arr1.length;\n  if (length !== arr2.length) return false;\n\n  for (var i = 0; i < length; i++) {\n    if (arr1[i] !== arr2[i]) {\n      return false;\n    }\n  }\n\n  return true;\n}\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nexport function deepEqual(a, b) {\n  // from https://github.com/epoberezkin/fast-deep-equal MIT\n  if (a === b) return true;\n  var arrA = Array.isArray(a);\n  var arrB = Array.isArray(b);\n\n  if (arrA && arrB) {\n    if (a.length !== b.length) return false;\n\n    for (var i = 0; i < a.length; i++) {\n      if (!deepEqual(a[i], b[i])) return false;\n    }\n\n    return true;\n  }\n\n  if (arrA !== arrB) return false;\n\n  if (a && b && typeof a === 'object' && typeof b === 'object') {\n    var keys = Object.keys(a);\n    if (keys.length !== Object.keys(b).length) return false;\n    var dateA = a instanceof Date;\n    var dateB = b instanceof Date;\n    if (dateA && dateB) return a.getTime() === b.getTime();\n    if (dateA !== dateB) return false;\n    var regexpA = a instanceof RegExp;\n    var regexpB = b instanceof RegExp;\n    if (regexpA && regexpB) return a.toString() === b.toString();\n    if (regexpA !== regexpB) return false;\n\n    for (var i = 0; i < keys.length; i++) {\n      if (!hasOwnProperty.call(b, keys[i])) return false;\n    }\n\n    for (var i = 0; i < keys.length; i++) {\n      if (!deepEqual(a[keys[i]], b[keys[i]])) return false;\n    }\n\n    return true;\n  }\n\n  return false;\n}\nexport function shallowEqual(a, b) {\n  if (a === b) return true;\n  var arrA = Array.isArray(a);\n  var arrB = Array.isArray(b);\n  if (arrA && arrB) return shallowEqualArrays(a, b);\n  if (arrA !== arrB) return false;\n\n  if (a && b && typeof a === 'object' && typeof b === 'object') {\n    return shallowEqualObjects(a, b);\n  }\n\n  return false;\n}\nexport function shallowEqualObjects(a, b) {\n  if (a === b) return true;\n  if (!a || !b) return false;\n  var keys = Object.keys(a);\n  if (Object.keys(b).length !== keys.length) return false;\n\n  for (var _i = 0, keys_1 = keys; _i < keys_1.length; _i++) {\n    var k = keys_1[_i];\n    if (!hasOwnProperty.call(a, k) || a[k] !== b[k]) return false;\n  }\n\n  return true;\n}\nexport function shallowEqualArrays(a, b) {\n  if (a === b) return true;\n  if (!a || !b) return false;\n  if (a.length !== b.length) return false;\n\n  for (var i = 0, il = a.length; i < il; ++i) {\n    if (a[i] !== b[i]) return false;\n  }\n\n  return true;\n}\n/** Returns `value` if not `undefined`, otherwise returns `defaultValue` */\n\nexport function defaults(value, defaultValue) {\n  return value !== undefined ? value : defaultValue;\n}\nexport function extend(object, source, guard) {\n  var v;\n  var s = source;\n  var o = object;\n  var g = guard;\n\n  for (var _i = 0, _a = Object.keys(source); _i < _a.length; _i++) {\n    var k = _a[_i];\n    v = s[k];\n    if (v !== void 0) o[k] = v;else if (guard) o[k] = g[k];\n  }\n\n  if (guard) {\n    for (var _b = 0, _c = Object.keys(guard); _b < _c.length; _b++) {\n      var k = _c[_b];\n      v = o[k];\n      if (v === void 0) o[k] = g[k];\n    }\n  }\n\n  return object;\n}\nexport function shallowClone(o) {\n  return extend({}, o);\n}\n\nfunction _assign(target) {\n  for (var s = 1; s < arguments.length; s++) {\n    var from = arguments[s];\n\n    for (var _i = 0, _a = Object.keys(from); _i < _a.length; _i++) {\n      var key = _a[_i];\n\n      if (hasOwnProperty.call(from, key)) {\n        target[key] = from[key];\n      }\n    }\n  }\n\n  return target;\n}\n\nexport var assign = Object.assign || _assign;\n\nfunction _shallowMerge1(source, update) {\n  var changed = false;\n\n  for (var _i = 0, _a = Object.keys(update); _i < _a.length; _i++) {\n    var k = _a[_i];\n    if (!hasOwnProperty.call(update, k)) continue;\n\n    if (update[k] !== source[k]) {\n      changed = true;\n      break;\n    }\n  }\n\n  if (!changed) return source;\n  return assign(shallowClone(source), update);\n}\n\nfunction _shallowMerge(source) {\n  var ret = source;\n\n  for (var s = 1; s < arguments.length; s++) {\n    if (!arguments[s]) continue;\n    ret = _shallowMerge1(source, arguments[s]);\n\n    if (ret !== source) {\n      for (var i = s + 1; i < arguments.length; i++) {\n        ret = assign(ret, arguments[i]);\n      }\n\n      break;\n    }\n  }\n\n  return ret;\n}\n\nexport var merge = _shallowMerge;\n\nfunction padTime(n) {\n  return (n < 10 ? '0' : '') + n;\n}\n\nexport function formatTime(d) {\n  var h = d.getHours(),\n      m = d.getMinutes(),\n      s = d.getSeconds();\n  return h + \":\" + padTime(m) + \":\" + padTime(s);\n}\nexport function formatProgress(p) {\n  var tp = p.root.progress;\n  if (tp.isIndeterminate) return tp.message;\n  var x = (100 * tp.current / tp.max).toFixed(2);\n  return tp.message + \" \" + x + \"%\";\n}","map":{"version":3,"sources":["../../src/mol-util/index.ts"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["/**\r\n * Copyright (c) 2017-2020 mol* contributors, licensed under MIT, See LICENSE file for more info.\r\n *\r\n * @author David Sehnal <david.sehnal@gmail.com>\r\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\r\n */\r\nimport { BitFlags } from './bit-flags';\r\nimport { StringBuilder } from './string-builder';\r\nimport { UUID } from './uuid';\r\nimport { Mask } from './mask';\r\nexport * from './value-cell';\r\nexport { BitFlags, StringBuilder, UUID, Mask };\r\nexport var noop = function () { };\r\nexport function round(n, d) {\r\n    var f = Math.pow(10, d);\r\n    return Math.round(f * n) / f;\r\n}\r\nexport function arrayEqual(arr1, arr2) {\r\n    var length = arr1.length;\r\n    if (length !== arr2.length)\r\n        return false;\r\n    for (var i = 0; i < length; i++) {\r\n        if (arr1[i] !== arr2[i]) {\r\n            return false;\r\n        }\r\n    }\r\n    return true;\r\n}\r\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\r\nexport function deepEqual(a, b) {\r\n    // from https://github.com/epoberezkin/fast-deep-equal MIT\r\n    if (a === b)\r\n        return true;\r\n    var arrA = Array.isArray(a);\r\n    var arrB = Array.isArray(b);\r\n    if (arrA && arrB) {\r\n        if (a.length !== b.length)\r\n            return false;\r\n        for (var i = 0; i < a.length; i++) {\r\n            if (!deepEqual(a[i], b[i]))\r\n                return false;\r\n        }\r\n        return true;\r\n    }\r\n    if (arrA !== arrB)\r\n        return false;\r\n    if (a && b && typeof a === 'object' && typeof b === 'object') {\r\n        var keys = Object.keys(a);\r\n        if (keys.length !== Object.keys(b).length)\r\n            return false;\r\n        var dateA = a instanceof Date;\r\n        var dateB = b instanceof Date;\r\n        if (dateA && dateB)\r\n            return a.getTime() === b.getTime();\r\n        if (dateA !== dateB)\r\n            return false;\r\n        var regexpA = a instanceof RegExp;\r\n        var regexpB = b instanceof RegExp;\r\n        if (regexpA && regexpB)\r\n            return a.toString() === b.toString();\r\n        if (regexpA !== regexpB)\r\n            return false;\r\n        for (var i = 0; i < keys.length; i++) {\r\n            if (!hasOwnProperty.call(b, keys[i]))\r\n                return false;\r\n        }\r\n        for (var i = 0; i < keys.length; i++) {\r\n            if (!deepEqual(a[keys[i]], b[keys[i]]))\r\n                return false;\r\n        }\r\n        return true;\r\n    }\r\n    return false;\r\n}\r\nexport function shallowEqual(a, b) {\r\n    if (a === b)\r\n        return true;\r\n    var arrA = Array.isArray(a);\r\n    var arrB = Array.isArray(b);\r\n    if (arrA && arrB)\r\n        return shallowEqualArrays(a, b);\r\n    if (arrA !== arrB)\r\n        return false;\r\n    if (a && b && typeof a === 'object' && typeof b === 'object') {\r\n        return shallowEqualObjects(a, b);\r\n    }\r\n    return false;\r\n}\r\nexport function shallowEqualObjects(a, b) {\r\n    if (a === b)\r\n        return true;\r\n    if (!a || !b)\r\n        return false;\r\n    var keys = Object.keys(a);\r\n    if (Object.keys(b).length !== keys.length)\r\n        return false;\r\n    for (var _i = 0, keys_1 = keys; _i < keys_1.length; _i++) {\r\n        var k = keys_1[_i];\r\n        if (!hasOwnProperty.call(a, k) || a[k] !== b[k])\r\n            return false;\r\n    }\r\n    return true;\r\n}\r\nexport function shallowEqualArrays(a, b) {\r\n    if (a === b)\r\n        return true;\r\n    if (!a || !b)\r\n        return false;\r\n    if (a.length !== b.length)\r\n        return false;\r\n    for (var i = 0, il = a.length; i < il; ++i) {\r\n        if (a[i] !== b[i])\r\n            return false;\r\n    }\r\n    return true;\r\n}\r\n/** Returns `value` if not `undefined`, otherwise returns `defaultValue` */\r\nexport function defaults(value, defaultValue) {\r\n    return value !== undefined ? value : defaultValue;\r\n}\r\nexport function extend(object, source, guard) {\r\n    var v;\r\n    var s = source;\r\n    var o = object;\r\n    var g = guard;\r\n    for (var _i = 0, _a = Object.keys(source); _i < _a.length; _i++) {\r\n        var k = _a[_i];\r\n        v = s[k];\r\n        if (v !== void 0)\r\n            o[k] = v;\r\n        else if (guard)\r\n            o[k] = g[k];\r\n    }\r\n    if (guard) {\r\n        for (var _b = 0, _c = Object.keys(guard); _b < _c.length; _b++) {\r\n            var k = _c[_b];\r\n            v = o[k];\r\n            if (v === void 0)\r\n                o[k] = g[k];\r\n        }\r\n    }\r\n    return object;\r\n}\r\nexport function shallowClone(o) {\r\n    return extend({}, o);\r\n}\r\nfunction _assign(target) {\r\n    for (var s = 1; s < arguments.length; s++) {\r\n        var from = arguments[s];\r\n        for (var _i = 0, _a = Object.keys(from); _i < _a.length; _i++) {\r\n            var key = _a[_i];\r\n            if (hasOwnProperty.call(from, key)) {\r\n                target[key] = from[key];\r\n            }\r\n        }\r\n    }\r\n    return target;\r\n}\r\nexport var assign = Object.assign || _assign;\r\nfunction _shallowMerge1(source, update) {\r\n    var changed = false;\r\n    for (var _i = 0, _a = Object.keys(update); _i < _a.length; _i++) {\r\n        var k = _a[_i];\r\n        if (!hasOwnProperty.call(update, k))\r\n            continue;\r\n        if (update[k] !== source[k]) {\r\n            changed = true;\r\n            break;\r\n        }\r\n    }\r\n    if (!changed)\r\n        return source;\r\n    return assign(shallowClone(source), update);\r\n}\r\nfunction _shallowMerge(source) {\r\n    var ret = source;\r\n    for (var s = 1; s < arguments.length; s++) {\r\n        if (!arguments[s])\r\n            continue;\r\n        ret = _shallowMerge1(source, arguments[s]);\r\n        if (ret !== source) {\r\n            for (var i = s + 1; i < arguments.length; i++) {\r\n                ret = assign(ret, arguments[i]);\r\n            }\r\n            break;\r\n        }\r\n    }\r\n    return ret;\r\n}\r\nexport var merge = _shallowMerge;\r\nfunction padTime(n) { return (n < 10 ? '0' : '') + n; }\r\nexport function formatTime(d) {\r\n    var h = d.getHours(), m = d.getMinutes(), s = d.getSeconds();\r\n    return h + \":\" + padTime(m) + \":\" + padTime(s);\r\n}\r\nexport function formatProgress(p) {\r\n    var tp = p.root.progress;\r\n    if (tp.isIndeterminate)\r\n        return tp.message;\r\n    var x = (100 * tp.current / tp.max).toFixed(2);\r\n    return tp.message + \" \" + x + \"%\";\r\n}\r\n//# sourceMappingURL=index.js.map"]},"metadata":{},"sourceType":"module"}