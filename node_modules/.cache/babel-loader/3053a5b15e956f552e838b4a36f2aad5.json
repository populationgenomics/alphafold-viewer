{"ast":null,"code":"/**\r\n * Copyright (c) 2017 mol* contributors, licensed under MIT, See LICENSE file for more info.\r\n *\r\n * @author David Sehnal <david.sehnal@gmail.com>\r\n */\nfunction LinkedIndex(size) {\n  return new LinkedIndexImpl(size);\n}\n\nvar LinkedIndexImpl =\n/** @class */\nfunction () {\n  function LinkedIndexImpl(size) {\n    this.head = size > 0 ? 0 : -1;\n    this.prev = new Int32Array(size);\n    this.next = new Int32Array(size);\n\n    for (var i = 0; i < size; i++) {\n      this.next[i] = i + 1;\n      this.prev[i] = i - 1;\n    }\n\n    this.prev[0] = -1;\n    this.next[size - 1] = -1;\n  }\n\n  LinkedIndexImpl.prototype.remove = function (i) {\n    var _a = this,\n        prev = _a.prev,\n        next = _a.next;\n\n    var p = prev[i],\n        n = next[i];\n\n    if (p >= 0) {\n      next[p] = n;\n      prev[i] = -1;\n    }\n\n    if (n >= 0) {\n      prev[n] = p;\n      next[i] = -1;\n    }\n\n    if (i === this.head) {\n      if (p < 0) this.head = n;else this.head = p;\n    }\n  };\n\n  LinkedIndexImpl.prototype.has = function (i) {\n    return this.prev[i] >= 0 || this.next[i] >= 0 || this.head === i;\n  };\n\n  return LinkedIndexImpl;\n}();\n\nexport { LinkedIndex };","map":{"version":3,"sources":["../../../src/mol-data/int/linked-index.ts"],"names":[],"mappings":"AAAA;;;;AAIG;AASH,SAAS,WAAT,CAAqB,IAArB,EAAiC;AAC7B,SAAO,IAAI,eAAJ,CAAoB,IAApB,CAAP;AACH;;AAED,IAAA,eAAA;AAAA;AAAA,YAAA;AA0BI,WAAA,eAAA,CAAY,IAAZ,EAAwB;AACpB,SAAK,IAAL,GAAY,IAAI,GAAG,CAAP,GAAW,CAAX,GAAe,CAAC,CAA5B;AACA,SAAK,IAAL,GAAY,IAAI,UAAJ,CAAe,IAAf,CAAZ;AACA,SAAK,IAAL,GAAY,IAAI,UAAJ,CAAe,IAAf,CAAZ;;AAEA,SAAK,IAAI,CAAC,GAAG,CAAb,EAAgB,CAAC,GAAG,IAApB,EAA0B,CAAC,EAA3B,EAA+B;AAC3B,WAAK,IAAL,CAAU,CAAV,IAAe,CAAC,GAAG,CAAnB;AACA,WAAK,IAAL,CAAU,CAAV,IAAe,CAAC,GAAG,CAAnB;AACH;;AACD,SAAK,IAAL,CAAU,CAAV,IAAe,CAAC,CAAhB;AACA,SAAK,IAAL,CAAU,IAAI,GAAG,CAAjB,IAAsB,CAAC,CAAvB;AACH;;AAhCD,EAAA,eAAA,CAAA,SAAA,CAAA,MAAA,GAAA,UAAO,CAAP,EAAgB;AACN,QAAA,EAAA,GAAiB,IAAjB;AAAA,QAAE,IAAI,GAAA,EAAA,CAAA,IAAN;AAAA,QAAQ,IAAI,GAAA,EAAA,CAAA,IAAZ;;AACN,QAAM,CAAC,GAAG,IAAI,CAAC,CAAD,CAAd;AAAA,QAAmB,CAAC,GAAG,IAAI,CAAC,CAAD,CAA3B;;AACA,QAAI,CAAC,IAAI,CAAT,EAAY;AACR,MAAA,IAAI,CAAC,CAAD,CAAJ,GAAU,CAAV;AACA,MAAA,IAAI,CAAC,CAAD,CAAJ,GAAU,CAAC,CAAX;AACH;;AACD,QAAI,CAAC,IAAI,CAAT,EAAY;AACR,MAAA,IAAI,CAAC,CAAD,CAAJ,GAAU,CAAV;AACA,MAAA,IAAI,CAAC,CAAD,CAAJ,GAAU,CAAC,CAAX;AACH;;AACD,QAAI,CAAC,KAAK,KAAK,IAAf,EAAqB;AACjB,UAAI,CAAC,GAAG,CAAR,EAAW,KAAK,IAAL,GAAY,CAAZ,CAAX,KACK,KAAK,IAAL,GAAY,CAAZ;AACR;AACJ,GAfD;;AAiBA,EAAA,eAAA,CAAA,SAAA,CAAA,GAAA,GAAA,UAAI,CAAJ,EAAa;AACT,WAAO,KAAK,IAAL,CAAU,CAAV,KAAgB,CAAhB,IAAqB,KAAK,IAAL,CAAU,CAAV,KAAgB,CAArC,IAA0C,KAAK,IAAL,KAAc,CAA/D;AACH,GAFD;;AAgBJ,SAAA,eAAA;AAAC,CAtCD,EAAA;;AAwCA,SAAS,WAAT","sourceRoot":"","sourcesContent":["/**\r\n * Copyright (c) 2017 mol* contributors, licensed under MIT, See LICENSE file for more info.\r\n *\r\n * @author David Sehnal <david.sehnal@gmail.com>\r\n */\r\nfunction LinkedIndex(size) {\r\n    return new LinkedIndexImpl(size);\r\n}\r\nvar LinkedIndexImpl = /** @class */ (function () {\r\n    function LinkedIndexImpl(size) {\r\n        this.head = size > 0 ? 0 : -1;\r\n        this.prev = new Int32Array(size);\r\n        this.next = new Int32Array(size);\r\n        for (var i = 0; i < size; i++) {\r\n            this.next[i] = i + 1;\r\n            this.prev[i] = i - 1;\r\n        }\r\n        this.prev[0] = -1;\r\n        this.next[size - 1] = -1;\r\n    }\r\n    LinkedIndexImpl.prototype.remove = function (i) {\r\n        var _a = this, prev = _a.prev, next = _a.next;\r\n        var p = prev[i], n = next[i];\r\n        if (p >= 0) {\r\n            next[p] = n;\r\n            prev[i] = -1;\r\n        }\r\n        if (n >= 0) {\r\n            prev[n] = p;\r\n            next[i] = -1;\r\n        }\r\n        if (i === this.head) {\r\n            if (p < 0)\r\n                this.head = n;\r\n            else\r\n                this.head = p;\r\n        }\r\n    };\r\n    LinkedIndexImpl.prototype.has = function (i) {\r\n        return this.prev[i] >= 0 || this.next[i] >= 0 || this.head === i;\r\n    };\r\n    return LinkedIndexImpl;\r\n}());\r\nexport { LinkedIndex };\r\n//# sourceMappingURL=linked-index.js.map"]},"metadata":{},"sourceType":"module"}