{"ast":null,"code":"/**\r\n * Copyright (c) 2020 mol* contributors, licensed under MIT, See LICENSE file for more info.\r\n *\r\n * @author David Sehnal <david.sehnal@gmail.com>\r\n */\nimport { useEffect, useState } from 'react'; // eslint-disable-next-line\n\nexport function useBehavior(s) {\n  var _a = useState(s === null || s === void 0 ? void 0 : s.value),\n      value = _a[0],\n      setValue = _a[1];\n\n  useEffect(function () {\n    if (!s) {\n      if (value !== void 0) setValue(void 0);\n      return;\n    }\n\n    var fst = true;\n    var sub = s.subscribe(function (v) {\n      if (fst) {\n        fst = false;\n        if (v !== value) setValue(v);\n      } else setValue(v);\n    });\n    return function () {\n      sub.unsubscribe();\n    }; // eslint-disable-next-line\n  }, [s]);\n  return value;\n}","map":{"version":3,"sources":["../../../src/mol-plugin-ui/hooks/use-behavior.ts"],"names":[],"mappings":"AAAA;;;;AAIG;AAEH,SAAS,SAAT,EAAoB,QAApB,QAAoC,OAApC,C,CAUA;;AACA,OAAM,SAAU,WAAV,CAAyB,CAAzB,EAAmD;AAC/C,MAAA,EAAA,GAAoB,QAAQ,CAAC,CAAC,KAAA,IAAD,IAAA,CAAC,KAAA,KAAA,CAAD,GAAC,KAAA,CAAD,GAAA,CAAC,CAAE,KAAJ,CAA5B;AAAA,MAAC,KAAK,GAAA,EAAA,CAAA,CAAA,CAAN;AAAA,MAAQ,QAAQ,GAAA,EAAA,CAAA,CAAA,CAAhB;;AAEN,EAAA,SAAS,CAAC,YAAA;AACN,QAAI,CAAC,CAAL,EAAQ;AACJ,UAAI,KAAK,KAAK,KAAK,CAAnB,EAAsB,QAAQ,CAAC,KAAK,CAAN,CAAR;AACtB;AACH;;AACD,QAAI,GAAG,GAAG,IAAV;AACA,QAAM,GAAG,GAAG,CAAC,CAAC,SAAF,CAAY,UAAC,CAAD,EAAE;AACtB,UAAI,GAAJ,EAAS;AACL,QAAA,GAAG,GAAG,KAAN;AACA,YAAI,CAAC,KAAK,KAAV,EAAiB,QAAQ,CAAC,CAAD,CAAR;AACpB,OAHD,MAGO,QAAQ,CAAC,CAAD,CAAR;AACV,KALW,CAAZ;AAOA,WAAO,YAAA;AACH,MAAA,GAAG,CAAC,WAAJ;AACH,KAFD,CAbM,CAgBN;AACH,GAjBQ,EAiBN,CAAC,CAAD,CAjBM,CAAT;AAmBA,SAAO,KAAP;AACH","sourceRoot":"","sourcesContent":["/**\r\n * Copyright (c) 2020 mol* contributors, licensed under MIT, See LICENSE file for more info.\r\n *\r\n * @author David Sehnal <david.sehnal@gmail.com>\r\n */\r\nimport { useEffect, useState } from 'react';\r\n// eslint-disable-next-line\r\nexport function useBehavior(s) {\r\n    var _a = useState(s === null || s === void 0 ? void 0 : s.value), value = _a[0], setValue = _a[1];\r\n    useEffect(function () {\r\n        if (!s) {\r\n            if (value !== void 0)\r\n                setValue(void 0);\r\n            return;\r\n        }\r\n        var fst = true;\r\n        var sub = s.subscribe(function (v) {\r\n            if (fst) {\r\n                fst = false;\r\n                if (v !== value)\r\n                    setValue(v);\r\n            }\r\n            else\r\n                setValue(v);\r\n        });\r\n        return function () {\r\n            sub.unsubscribe();\r\n        };\r\n        // eslint-disable-next-line\r\n    }, [s]);\r\n    return value;\r\n}\r\n//# sourceMappingURL=use-behavior.js.map"]},"metadata":{},"sourceType":"module"}