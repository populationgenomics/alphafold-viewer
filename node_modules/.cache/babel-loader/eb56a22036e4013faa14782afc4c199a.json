{"ast":null,"code":"import { __assign, __extends } from \"tslib\";\nimport { jsx as _jsx, jsxs as _jsxs, Fragment as _Fragment } from \"react/jsx-runtime\";\n/**\r\n * Copyright (c) 2019 mol* contributors, licensed under MIT, See LICENSE file for more info.\r\n *\r\n * @author David Sehnal <david.sehnal@gmail.com>\r\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\r\n */\n\nimport { Color } from '../../mol-util/color';\nimport { camelCaseToWords, stringToWords } from '../../mol-util/string';\nimport * as React from 'react';\nimport { TextInput, Button, ControlRow } from './common';\nimport { DefaultColorSwatch } from '../../mol-util/color/swatches';\n\nvar CombinedColorControl =\n/** @class */\nfunction (_super) {\n  __extends(CombinedColorControl, _super);\n\n  function CombinedColorControl() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.state = {\n      isExpanded: !!_this.props.param.isExpanded,\n      lightness: 0\n    };\n\n    _this.toggleExpanded = function (e) {\n      _this.setState({\n        isExpanded: !_this.state.isExpanded\n      });\n\n      e.currentTarget.blur();\n    };\n\n    _this.onClickSwatch = function (e) {\n      var value = Color(+(e.currentTarget.getAttribute('data-color') || '0'));\n\n      if (value !== _this.props.value) {\n        if (!_this.props.param.isExpanded) _this.setState({\n          isExpanded: false\n        });\n\n        _this.update(value);\n      }\n    };\n\n    _this.onR = function (v) {\n      var _a = Color.toRgb(_this.props.value),\n          g = _a[1],\n          b = _a[2];\n\n      var value = Color.fromRgb(v, g, b);\n      if (value !== _this.props.value) _this.update(value);\n    };\n\n    _this.onG = function (v) {\n      var _a = Color.toRgb(_this.props.value),\n          r = _a[0],\n          b = _a[2];\n\n      var value = Color.fromRgb(r, v, b);\n      if (value !== _this.props.value) _this.update(value);\n    };\n\n    _this.onB = function (v) {\n      var _a = Color.toRgb(_this.props.value),\n          r = _a[0],\n          g = _a[1];\n\n      var value = Color.fromRgb(r, g, v);\n      if (value !== _this.props.value) _this.update(value);\n    };\n\n    _this.onLighten = function () {\n      _this.update(Color.lighten(_this.props.value, 0.1));\n    };\n\n    _this.onDarken = function () {\n      _this.update(Color.darken(_this.props.value, 0.1));\n    };\n\n    return _this;\n  }\n\n  CombinedColorControl.prototype.update = function (value) {\n    this.props.onChange({\n      param: this.props.param,\n      name: this.props.name,\n      value: value\n    });\n  };\n\n  CombinedColorControl.prototype.swatch = function () {\n    var _this = this;\n\n    return _jsx(\"div\", __assign({\n      className: 'msp-combined-color-swatch'\n    }, {\n      children: DefaultColorSwatch.map(function (c) {\n        return _jsx(Button, {\n          inline: true,\n          \"data-color\": c[1],\n          onClick: _this.onClickSwatch,\n          style: {\n            background: Color.toStyle(c[1])\n          }\n        }, c[1]);\n      })\n    }), void 0);\n  };\n\n  CombinedColorControl.prototype.render = function () {\n    var label = this.props.param.label || camelCaseToWords(this.props.name);\n\n    var _a = Color.toRgb(this.props.value),\n        r = _a[0],\n        g = _a[1],\n        b = _a[2];\n\n    return _jsxs(_Fragment, {\n      children: [_jsx(ControlRow, {\n        title: this.props.param.description,\n        label: label,\n        control: _jsx(Button, {\n          onClick: this.toggleExpanded,\n          inline: true,\n          className: 'msp-combined-color-button',\n          style: {\n            background: Color.toStyle(this.props.value)\n          }\n        }, void 0)\n      }, void 0), this.state.isExpanded && _jsxs(\"div\", __assign({\n        className: 'msp-control-offset'\n      }, {\n        children: [this.swatch(), _jsx(ControlRow, {\n          label: 'RGB',\n          className: 'msp-control-label-short',\n          control: _jsxs(\"div\", __assign({\n            style: {\n              display: 'flex',\n              textAlignLast: 'center',\n              left: '80px'\n            }\n          }, {\n            children: [_jsx(TextInput, {\n              onChange: this.onR,\n              numeric: true,\n              value: r,\n              delayMs: 250,\n              style: {\n                order: 1,\n                flex: '1 1 auto',\n                minWidth: 0\n              },\n              className: 'msp-form-control',\n              onEnter: this.props.onEnter,\n              blurOnEnter: true,\n              blurOnEscape: true\n            }, void 0), _jsx(TextInput, {\n              onChange: this.onG,\n              numeric: true,\n              value: g,\n              delayMs: 250,\n              style: {\n                order: 2,\n                flex: '1 1 auto',\n                minWidth: 0\n              },\n              className: 'msp-form-control',\n              onEnter: this.props.onEnter,\n              blurOnEnter: true,\n              blurOnEscape: true\n            }, void 0), _jsx(TextInput, {\n              onChange: this.onB,\n              numeric: true,\n              value: b,\n              delayMs: 250,\n              style: {\n                order: 3,\n                flex: '1 1 auto',\n                minWidth: 0\n              },\n              className: 'msp-form-control',\n              onEnter: this.props.onEnter,\n              blurOnEnter: true,\n              blurOnEscape: true\n            }, void 0)]\n          }), void 0)\n        }, void 0), _jsxs(\"div\", __assign({\n          style: {\n            display: 'flex',\n            textAlignLast: 'center'\n          }\n        }, {\n          children: [_jsx(Button, __assign({\n            onClick: this.onLighten,\n            style: {\n              order: 1,\n              flex: '1 1 auto',\n              minWidth: 0\n            },\n            className: 'msp-form-control'\n          }, {\n            children: \"Lighten\"\n          }), void 0), _jsx(Button, __assign({\n            onClick: this.onDarken,\n            style: {\n              order: 1,\n              flex: '1 1 auto',\n              minWidth: 0\n            },\n            className: 'msp-form-control'\n          }, {\n            children: \"Darken\"\n          }), void 0)]\n        }), void 0)]\n      }), void 0)]\n    }, void 0);\n  };\n\n  return CombinedColorControl;\n}(React.PureComponent);\n\nexport { CombinedColorControl };\n\nvar _colors = void 0;\n\nexport function ColorOptions() {\n  if (_colors) return _colors;\n  _colors = _jsx(_Fragment, {\n    children: DefaultColorSwatch.map(function (v) {\n      return _jsx(\"option\", __assign({\n        value: v[1],\n        style: {\n          background: \"\" + Color.toStyle(v[1])\n        }\n      }, {\n        children: stringToWords(v[0])\n      }), v[1]);\n    })\n  }, void 0);\n  return _colors;\n}\n\nvar DefaultColorSwatchMap = function () {\n  var map = new Map();\n\n  for (var _i = 0, DefaultColorSwatch_1 = DefaultColorSwatch; _i < DefaultColorSwatch_1.length; _i++) {\n    var v = DefaultColorSwatch_1[_i];\n    map.set(v[1], v[0]);\n  }\n\n  return map;\n}();\n\nexport function ColorValueOption(color) {\n  return !DefaultColorSwatchMap.has(color) ? _jsx(\"option\", __assign({\n    value: color,\n    style: {\n      background: \"\" + Color.toStyle(color)\n    }\n  }, {\n    children: Color.toRgbString(color)\n  }), Color.toHexString(color)) : null;\n}","map":{"version":3,"sources":["../../../src/mol-plugin-ui/controls/color.tsx"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["import { __assign, __extends } from \"tslib\";\r\nimport { jsx as _jsx, jsxs as _jsxs, Fragment as _Fragment } from \"react/jsx-runtime\";\r\n/**\r\n * Copyright (c) 2019 mol* contributors, licensed under MIT, See LICENSE file for more info.\r\n *\r\n * @author David Sehnal <david.sehnal@gmail.com>\r\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\r\n */\r\nimport { Color } from '../../mol-util/color';\r\nimport { camelCaseToWords, stringToWords } from '../../mol-util/string';\r\nimport * as React from 'react';\r\nimport { TextInput, Button, ControlRow } from './common';\r\nimport { DefaultColorSwatch } from '../../mol-util/color/swatches';\r\nvar CombinedColorControl = /** @class */ (function (_super) {\r\n    __extends(CombinedColorControl, _super);\r\n    function CombinedColorControl() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        _this.state = {\r\n            isExpanded: !!_this.props.param.isExpanded,\r\n            lightness: 0\r\n        };\r\n        _this.toggleExpanded = function (e) {\r\n            _this.setState({ isExpanded: !_this.state.isExpanded });\r\n            e.currentTarget.blur();\r\n        };\r\n        _this.onClickSwatch = function (e) {\r\n            var value = Color(+(e.currentTarget.getAttribute('data-color') || '0'));\r\n            if (value !== _this.props.value) {\r\n                if (!_this.props.param.isExpanded)\r\n                    _this.setState({ isExpanded: false });\r\n                _this.update(value);\r\n            }\r\n        };\r\n        _this.onR = function (v) {\r\n            var _a = Color.toRgb(_this.props.value), g = _a[1], b = _a[2];\r\n            var value = Color.fromRgb(v, g, b);\r\n            if (value !== _this.props.value)\r\n                _this.update(value);\r\n        };\r\n        _this.onG = function (v) {\r\n            var _a = Color.toRgb(_this.props.value), r = _a[0], b = _a[2];\r\n            var value = Color.fromRgb(r, v, b);\r\n            if (value !== _this.props.value)\r\n                _this.update(value);\r\n        };\r\n        _this.onB = function (v) {\r\n            var _a = Color.toRgb(_this.props.value), r = _a[0], g = _a[1];\r\n            var value = Color.fromRgb(r, g, v);\r\n            if (value !== _this.props.value)\r\n                _this.update(value);\r\n        };\r\n        _this.onLighten = function () {\r\n            _this.update(Color.lighten(_this.props.value, 0.1));\r\n        };\r\n        _this.onDarken = function () {\r\n            _this.update(Color.darken(_this.props.value, 0.1));\r\n        };\r\n        return _this;\r\n    }\r\n    CombinedColorControl.prototype.update = function (value) {\r\n        this.props.onChange({ param: this.props.param, name: this.props.name, value: value });\r\n    };\r\n    CombinedColorControl.prototype.swatch = function () {\r\n        var _this = this;\r\n        return _jsx(\"div\", __assign({ className: 'msp-combined-color-swatch' }, { children: DefaultColorSwatch.map(function (c) { return _jsx(Button, { inline: true, \"data-color\": c[1], onClick: _this.onClickSwatch, style: { background: Color.toStyle(c[1]) } }, c[1]); }) }), void 0);\r\n    };\r\n    CombinedColorControl.prototype.render = function () {\r\n        var label = this.props.param.label || camelCaseToWords(this.props.name);\r\n        var _a = Color.toRgb(this.props.value), r = _a[0], g = _a[1], b = _a[2];\r\n        return _jsxs(_Fragment, { children: [_jsx(ControlRow, { title: this.props.param.description, label: label, control: _jsx(Button, { onClick: this.toggleExpanded, inline: true, className: 'msp-combined-color-button', style: { background: Color.toStyle(this.props.value) } }, void 0) }, void 0), this.state.isExpanded && _jsxs(\"div\", __assign({ className: 'msp-control-offset' }, { children: [this.swatch(), _jsx(ControlRow, { label: 'RGB', className: 'msp-control-label-short', control: _jsxs(\"div\", __assign({ style: { display: 'flex', textAlignLast: 'center', left: '80px' } }, { children: [_jsx(TextInput, { onChange: this.onR, numeric: true, value: r, delayMs: 250, style: { order: 1, flex: '1 1 auto', minWidth: 0 }, className: 'msp-form-control', onEnter: this.props.onEnter, blurOnEnter: true, blurOnEscape: true }, void 0), _jsx(TextInput, { onChange: this.onG, numeric: true, value: g, delayMs: 250, style: { order: 2, flex: '1 1 auto', minWidth: 0 }, className: 'msp-form-control', onEnter: this.props.onEnter, blurOnEnter: true, blurOnEscape: true }, void 0), _jsx(TextInput, { onChange: this.onB, numeric: true, value: b, delayMs: 250, style: { order: 3, flex: '1 1 auto', minWidth: 0 }, className: 'msp-form-control', onEnter: this.props.onEnter, blurOnEnter: true, blurOnEscape: true }, void 0)] }), void 0) }, void 0), _jsxs(\"div\", __assign({ style: { display: 'flex', textAlignLast: 'center' } }, { children: [_jsx(Button, __assign({ onClick: this.onLighten, style: { order: 1, flex: '1 1 auto', minWidth: 0 }, className: 'msp-form-control' }, { children: \"Lighten\" }), void 0), _jsx(Button, __assign({ onClick: this.onDarken, style: { order: 1, flex: '1 1 auto', minWidth: 0 }, className: 'msp-form-control' }, { children: \"Darken\" }), void 0)] }), void 0)] }), void 0)] }, void 0);\r\n    };\r\n    return CombinedColorControl;\r\n}(React.PureComponent));\r\nexport { CombinedColorControl };\r\nvar _colors = void 0;\r\nexport function ColorOptions() {\r\n    if (_colors)\r\n        return _colors;\r\n    _colors = _jsx(_Fragment, { children: DefaultColorSwatch.map(function (v) {\r\n            return _jsx(\"option\", __assign({ value: v[1], style: { background: \"\" + Color.toStyle(v[1]) } }, { children: stringToWords(v[0]) }), v[1]);\r\n        }) }, void 0);\r\n    return _colors;\r\n}\r\nvar DefaultColorSwatchMap = (function () {\r\n    var map = new Map();\r\n    for (var _i = 0, DefaultColorSwatch_1 = DefaultColorSwatch; _i < DefaultColorSwatch_1.length; _i++) {\r\n        var v = DefaultColorSwatch_1[_i];\r\n        map.set(v[1], v[0]);\r\n    }\r\n    return map;\r\n})();\r\nexport function ColorValueOption(color) {\r\n    return !DefaultColorSwatchMap.has(color) ? _jsx(\"option\", __assign({ value: color, style: { background: \"\" + Color.toStyle(color) } }, { children: Color.toRgbString(color) }), Color.toHexString(color)) : null;\r\n}\r\n//# sourceMappingURL=color.js.map"]},"metadata":{},"sourceType":"module"}