{"ast":null,"code":"/**\r\n * Copyright (c) 2017-2021 mol* contributors, licensed under MIT, See LICENSE file for more info.\r\n *\r\n * @author David Sehnal <david.sehnal@gmail.com>\r\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\r\n */\n// from http://burtleburtle.net/bob/hash/integer.html\nexport function hash1(i) {\n  var a = i ^ i >> 4;\n  a = (a ^ 0xdeadbeef) + (a << 5);\n  a = a ^ a >> 11;\n  return a;\n}\nexport function hash2(i, j) {\n  var a = 23;\n  a = 31 * a + i | 0;\n  a = 31 * a + j | 0;\n  a = a ^ a >> 4;\n  a = (a ^ 0xdeadbeef) + (a << 5);\n  a = a ^ a >> 11;\n  return a;\n}\nexport function hash3(i, j, k) {\n  var a = 23;\n  a = 31 * a + i | 0;\n  a = 31 * a + j | 0;\n  a = 31 * a + k | 0;\n  a = a ^ a >> 4;\n  a = (a ^ 0xdeadbeef) + (a << 5);\n  a = a ^ a >> 11;\n  return a;\n}\nexport function hash4(i, j, k, l) {\n  var a = 23;\n  a = 31 * a + i | 0;\n  a = 31 * a + j | 0;\n  a = 31 * a + k | 0;\n  a = 31 * a + l | 0;\n  a = a ^ a >> 4;\n  a = (a ^ 0xdeadbeef) + (a << 5);\n  a = a ^ a >> 11;\n  return a;\n}\nexport function hashString(s) {\n  var h = 0;\n\n  for (var i = 0, l = s.length; i < l; i++) {\n    h = (h << 5) - h + s.charCodeAt(i++) | 0;\n  }\n\n  return h;\n}\n/**\r\n * A unique number for each pair of integers\r\n * Biggest representable pair is (67108863, 67108863) (limit imposed by Number.MAX_SAFE_INTEGER)\r\n */\n\nexport function cantorPairing(a, b) {\n  return (a + b) * (a + b + 1) / 2 + b;\n}\n/**\r\n * A unique number for each sorted pair of integers\r\n * Biggest representable pair is (67108863, 67108863) (limit imposed by Number.MAX_SAFE_INTEGER)\r\n */\n\nexport function sortedCantorPairing(a, b) {\n  return a < b ? cantorPairing(a, b) : cantorPairing(b, a);\n}\nexport function invertCantorPairing(out, z) {\n  var w = Math.floor((Math.sqrt(8 * z + 1) - 1) / 2);\n  var t = (w * w + w) / 2;\n  var y = z - t;\n  out[0] = w - y;\n  out[1] = y;\n  return out;\n}\n/**\r\n * 32 bit FNV-1a hash, see http://isthe.com/chongo/tech/comp/fnv/\r\n */\n\nexport function hashFnv32a(array) {\n  var hval = 0x811c9dc5;\n\n  for (var i = 0, il = array.length; i < il; ++i) {\n    hval ^= array[i];\n    hval += (hval << 1) + (hval << 4) + (hval << 7) + (hval << 8) + (hval << 24);\n  }\n\n  return hval >>> 0;\n}","map":{"version":3,"sources":["../../../src/mol-data/util/hash-functions.ts"],"names":[],"mappings":"AAAA;;;;;AAKG;AAEH;AACA,OAAM,SAAU,KAAV,CAAgB,CAAhB,EAAyB;AAC3B,MAAI,CAAC,GAAG,CAAC,GAAI,CAAC,IAAI,CAAlB;AACA,EAAA,CAAC,GAAG,CAAC,CAAC,GAAG,UAAL,KAAoB,CAAC,IAAI,CAAzB,CAAJ;AACA,EAAA,CAAC,GAAG,CAAC,GAAI,CAAC,IAAI,EAAd;AACA,SAAO,CAAP;AACH;AAED,OAAM,SAAU,KAAV,CAAgB,CAAhB,EAA2B,CAA3B,EAAoC;AACtC,MAAI,CAAC,GAAG,EAAR;AACA,EAAA,CAAC,GAAI,KAAK,CAAL,GAAS,CAAV,GAAe,CAAnB;AACA,EAAA,CAAC,GAAI,KAAK,CAAL,GAAS,CAAV,GAAe,CAAnB;AACA,EAAA,CAAC,GAAG,CAAC,GAAI,CAAC,IAAI,CAAd;AACA,EAAA,CAAC,GAAG,CAAC,CAAC,GAAG,UAAL,KAAoB,CAAC,IAAI,CAAzB,CAAJ;AACA,EAAA,CAAC,GAAG,CAAC,GAAI,CAAC,IAAI,EAAd;AACA,SAAO,CAAP;AACH;AAED,OAAM,SAAU,KAAV,CAAgB,CAAhB,EAA2B,CAA3B,EAAsC,CAAtC,EAA+C;AACjD,MAAI,CAAC,GAAG,EAAR;AACA,EAAA,CAAC,GAAI,KAAK,CAAL,GAAS,CAAV,GAAe,CAAnB;AACA,EAAA,CAAC,GAAI,KAAK,CAAL,GAAS,CAAV,GAAe,CAAnB;AACA,EAAA,CAAC,GAAI,KAAK,CAAL,GAAS,CAAV,GAAe,CAAnB;AACA,EAAA,CAAC,GAAG,CAAC,GAAI,CAAC,IAAI,CAAd;AACA,EAAA,CAAC,GAAG,CAAC,CAAC,GAAG,UAAL,KAAoB,CAAC,IAAI,CAAzB,CAAJ;AACA,EAAA,CAAC,GAAG,CAAC,GAAI,CAAC,IAAI,EAAd;AACA,SAAO,CAAP;AACH;AAED,OAAM,SAAU,KAAV,CAAgB,CAAhB,EAA2B,CAA3B,EAAsC,CAAtC,EAAiD,CAAjD,EAA0D;AAC5D,MAAI,CAAC,GAAG,EAAR;AACA,EAAA,CAAC,GAAI,KAAK,CAAL,GAAS,CAAV,GAAe,CAAnB;AACA,EAAA,CAAC,GAAI,KAAK,CAAL,GAAS,CAAV,GAAe,CAAnB;AACA,EAAA,CAAC,GAAI,KAAK,CAAL,GAAS,CAAV,GAAe,CAAnB;AACA,EAAA,CAAC,GAAI,KAAK,CAAL,GAAS,CAAV,GAAe,CAAnB;AACA,EAAA,CAAC,GAAG,CAAC,GAAI,CAAC,IAAI,CAAd;AACA,EAAA,CAAC,GAAG,CAAC,CAAC,GAAG,UAAL,KAAoB,CAAC,IAAI,CAAzB,CAAJ;AACA,EAAA,CAAC,GAAG,CAAC,GAAI,CAAC,IAAI,EAAd;AACA,SAAO,CAAP;AACH;AAED,OAAM,SAAU,UAAV,CAAqB,CAArB,EAA8B;AAChC,MAAI,CAAC,GAAG,CAAR;;AACA,OAAK,IAAI,CAAC,GAAG,CAAR,EAAW,CAAC,GAAG,CAAC,CAAC,MAAtB,EAA8B,CAAC,GAAG,CAAlC,EAAqC,CAAC,EAAtC,EAA0C;AACtC,IAAA,CAAC,GAAG,CAAC,CAAC,IAAI,CAAN,IAAW,CAAX,GAAe,CAAC,CAAC,UAAF,CAAa,CAAC,EAAd,CAAf,GAAmC,CAAvC;AACH;;AACD,SAAO,CAAP;AACH;AAED;;;AAGG;;AACH,OAAM,SAAU,aAAV,CAAwB,CAAxB,EAAmC,CAAnC,EAA4C;AAC9C,SAAO,CAAC,CAAC,GAAG,CAAL,KAAW,CAAC,GAAG,CAAJ,GAAQ,CAAnB,IAAwB,CAAxB,GAA4B,CAAnC;AACH;AAED;;;AAGG;;AACH,OAAM,SAAU,mBAAV,CAA8B,CAA9B,EAAyC,CAAzC,EAAkD;AACpD,SAAO,CAAC,GAAG,CAAJ,GAAQ,aAAa,CAAC,CAAD,EAAI,CAAJ,CAArB,GAA8B,aAAa,CAAC,CAAD,EAAI,CAAJ,CAAlD;AACH;AAED,OAAM,SAAU,mBAAV,CAA8B,GAA9B,EAAqD,CAArD,EAA8D;AAChE,MAAM,CAAC,GAAG,IAAI,CAAC,KAAL,CAAW,CAAC,IAAI,CAAC,IAAL,CAAU,IAAI,CAAJ,GAAQ,CAAlB,IAAuB,CAAxB,IAA6B,CAAxC,CAAV;AACA,MAAM,CAAC,GAAG,CAAC,CAAC,GAAG,CAAJ,GAAQ,CAAT,IAAc,CAAxB;AACA,MAAM,CAAC,GAAG,CAAC,GAAG,CAAd;AACA,EAAA,GAAG,CAAC,CAAD,CAAH,GAAS,CAAC,GAAG,CAAb;AACA,EAAA,GAAG,CAAC,CAAD,CAAH,GAAS,CAAT;AACA,SAAO,GAAP;AACH;AAED;;AAEG;;AACH,OAAM,SAAU,UAAV,CAAqB,KAArB,EAA6C;AAC/C,MAAI,IAAI,GAAG,UAAX;;AACA,OAAK,IAAI,CAAC,GAAG,CAAR,EAAW,EAAE,GAAG,KAAK,CAAC,MAA3B,EAAmC,CAAC,GAAG,EAAvC,EAA2C,EAAE,CAA7C,EAAgD;AAC5C,IAAA,IAAI,IAAI,KAAK,CAAC,CAAD,CAAb;AACA,IAAA,IAAI,IAAI,CAAC,IAAI,IAAI,CAAT,KAAe,IAAI,IAAI,CAAvB,KAA6B,IAAI,IAAI,CAArC,KAA2C,IAAI,IAAI,CAAnD,KAAyD,IAAI,IAAI,EAAjE,CAAR;AACH;;AACD,SAAO,IAAI,KAAK,CAAhB;AACH","sourceRoot":"","sourcesContent":["/**\r\n * Copyright (c) 2017-2021 mol* contributors, licensed under MIT, See LICENSE file for more info.\r\n *\r\n * @author David Sehnal <david.sehnal@gmail.com>\r\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\r\n */\r\n// from http://burtleburtle.net/bob/hash/integer.html\r\nexport function hash1(i) {\r\n    var a = i ^ (i >> 4);\r\n    a = (a ^ 0xdeadbeef) + (a << 5);\r\n    a = a ^ (a >> 11);\r\n    return a;\r\n}\r\nexport function hash2(i, j) {\r\n    var a = 23;\r\n    a = (31 * a + i) | 0;\r\n    a = (31 * a + j) | 0;\r\n    a = a ^ (a >> 4);\r\n    a = (a ^ 0xdeadbeef) + (a << 5);\r\n    a = a ^ (a >> 11);\r\n    return a;\r\n}\r\nexport function hash3(i, j, k) {\r\n    var a = 23;\r\n    a = (31 * a + i) | 0;\r\n    a = (31 * a + j) | 0;\r\n    a = (31 * a + k) | 0;\r\n    a = a ^ (a >> 4);\r\n    a = (a ^ 0xdeadbeef) + (a << 5);\r\n    a = a ^ (a >> 11);\r\n    return a;\r\n}\r\nexport function hash4(i, j, k, l) {\r\n    var a = 23;\r\n    a = (31 * a + i) | 0;\r\n    a = (31 * a + j) | 0;\r\n    a = (31 * a + k) | 0;\r\n    a = (31 * a + l) | 0;\r\n    a = a ^ (a >> 4);\r\n    a = (a ^ 0xdeadbeef) + (a << 5);\r\n    a = a ^ (a >> 11);\r\n    return a;\r\n}\r\nexport function hashString(s) {\r\n    var h = 0;\r\n    for (var i = 0, l = s.length; i < l; i++) {\r\n        h = (h << 5) - h + s.charCodeAt(i++) | 0;\r\n    }\r\n    return h;\r\n}\r\n/**\r\n * A unique number for each pair of integers\r\n * Biggest representable pair is (67108863, 67108863) (limit imposed by Number.MAX_SAFE_INTEGER)\r\n */\r\nexport function cantorPairing(a, b) {\r\n    return (a + b) * (a + b + 1) / 2 + b;\r\n}\r\n/**\r\n * A unique number for each sorted pair of integers\r\n * Biggest representable pair is (67108863, 67108863) (limit imposed by Number.MAX_SAFE_INTEGER)\r\n */\r\nexport function sortedCantorPairing(a, b) {\r\n    return a < b ? cantorPairing(a, b) : cantorPairing(b, a);\r\n}\r\nexport function invertCantorPairing(out, z) {\r\n    var w = Math.floor((Math.sqrt(8 * z + 1) - 1) / 2);\r\n    var t = (w * w + w) / 2;\r\n    var y = z - t;\r\n    out[0] = w - y;\r\n    out[1] = y;\r\n    return out;\r\n}\r\n/**\r\n * 32 bit FNV-1a hash, see http://isthe.com/chongo/tech/comp/fnv/\r\n */\r\nexport function hashFnv32a(array) {\r\n    var hval = 0x811c9dc5;\r\n    for (var i = 0, il = array.length; i < il; ++i) {\r\n        hval ^= array[i];\r\n        hval += (hval << 1) + (hval << 4) + (hval << 7) + (hval << 8) + (hval << 24);\r\n    }\r\n    return hval >>> 0;\r\n}\r\n//# sourceMappingURL=hash-functions.js.map"]},"metadata":{},"sourceType":"module"}